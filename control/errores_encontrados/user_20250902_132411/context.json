[
  {
    "timestamp": "2025-09-02T13:24:11.699178",
    "component": "suppressed_output",
    "level": "suppressed_component",
    "session_id": "user_20250902_132411",
    "operation": "tableanalyzer_init",
    "suppressed_data": {
      "session_id": "user_20250902_132411",
      "timestamp": "2025-09-02T13:24:11.699168",
      "operation_name": "tableanalyzer_init",
      "stdout_content": "ğŸ¯ INICIALIZANDO ANALIZADOR COMPATIBLE CON PALABRAS ANCLA\n======================================================================\nğŸ“ CARGANDO DICCIONARIOS CON PALABRAS ANCLA\nğŸ“‚ Ruta: /Users/apple/Desktop/chambiacion/proyectos_full/python/brandbot/etapas/cassian_0.0.5_etapa_4/diccionarios/complejos\n============================================================\nâœ… Estructura JSON de palabras ancla verificada\n   âœ… anchors/dimension_anchors.json\n   ğŸ”¥ Expandido: 19 anclas â†’ 532 dimensiones\n   âœ… anchors/metric_anchors.json\n   ğŸ”¥ Expandido: 20 anclas â†’ 490 mÃ©tricas\n   âœ… core/operations.json\n   âœ… core/known_columns.json\n   âœ… core/common_values.json\n   âš ï¸ No encontrado: linguistic/connectors.json\n   âš ï¸ No encontrado: linguistic/word_numbers.json\n   âš ï¸ No encontrado: linguistic/typo_corrections.json\n   âœ… temporal/temporal_indicators.json\n   âœ… temporal/temporal_units.json\n\nğŸ“Š RESULTADO DE CARGA CON PALABRAS ANCLA:\n   âœ… Archivos bÃ¡sicos cargados: 3/3\n   ğŸ“‚ Dimensiones (expandidas): 532\n   ğŸ“Š MÃ©tricas (expandidas): 490\n   âš¡ Operaciones: 57\n   ğŸ“ Anclas de dimensiÃ³n: 19\n   ğŸ“ Anclas de mÃ©trica: 20\n   ğŸ• Cargado: 2025-09-02 13:24:11\nâœ… Diccionarios con palabras ancla cargados exitosamente\nğŸ”¥ TODAS LAS VARIACIONES DISPONIBLES: 1022 tÃ©rminos\nâœ… Estructura JSON de palabras ancla verificada\nâœ… Diccionarios con palabras ancla cargados:\nğŸ“ Ruta: /Users/apple/Desktop/chambiacion/proyectos_full/python/brandbot/etapas/cassian_0.0.5_etapa_4/diccionarios/complejos\nğŸ• Ãšltima carga: 2025-09-02T13:24:11.690500\nâœ… Carga exitosa: True\nğŸ”¥ Sistema de anclas: True\nğŸ“Š EstadÃ­sticas cargadas:\n   ğŸ“‚ Dimensiones (expandidas): 532\n   ğŸ“Š MÃ©tricas (expandidas): 490\n   âš¡ Operaciones: 57\n   ğŸ“ Anclas de dimensiÃ³n: 19\n   ğŸ“ Anclas de mÃ©trica: 20\n\nğŸ”¥ EJEMPLO DE EXPANSIONES CARGADAS:\n   ğŸ“‚ 'employee': 48 variaciones â†’ ['vendedor', 'vendedores', 'empleado', 'empleados', 'personal']...\n   ğŸ“‚ 'category': 34 variaciones â†’ ['categoria', 'categorias', 'categorÃ­a', 'categorÃ­as', 'cat']...\nğŸ“ Directorios temporales verificados\nğŸ”¥ Analizador compatible con palabras ancla listo\nâœ… MySQL disponible: localhost/datos_imperiales\nğŸ”¥ Analizador con opciÃ³n MySQL listo",
      "stderr_content": "",
      "has_content": true
    }
  },
  {
    "timestamp": "2025-09-02T13:24:11.703066",
    "component": "suppressed_output",
    "level": "suppressed_component",
    "session_id": "user_20250902_132411",
    "operation": "problemizador_init",
    "suppressed_data": {
      "session_id": "user_20250902_132411",
      "timestamp": "2025-09-02T13:24:11.703062",
      "operation_name": "problemizador_init",
      "stdout_content": "âœ… Operaciones cargadas: 161 palabras ancla\n   ğŸ‡ªğŸ‡¸ Aliases configurados para ESPAÃ‘OL\n   âœ… Conectores activos: 30 palabras\n   âœ… NÃºmeros activos: 31 palabras\n   âœ… Correcciones activas: 20 palabras\nâœ… Diccionario temporal cargado: 387 entradas\nâœ… Diccionarios JSON cargados exitosamente\nğŸ”§ Construyendo Ã­ndices de bÃºsqueda optimizada...\nâœ… Ãndice temporal: 388 entradas\nâœ… Frases compuestas en cache: 211 entradas\nâœ… Ãndices construidos: 1011 palabras en 0.000s\nğŸš€ Parser NLP Unificado iniciado\nğŸ“š Diccionarios cargados: {'total_dimensiones': 392, 'total_operaciones': 161, 'total_metricas': 384, 'source': 'JSON files'}\nğŸš¨ Sistema de palabras desconocidas activado\nğŸ“ Log de palabras desconocidas: control/consultas_sin_respuesta/unknown_words_log.json",
      "stderr_content": "",
      "has_content": true
    }
  },
  {
    "timestamp": "2025-09-02T13:24:11.703494",
    "component": "suppressed_output",
    "level": "suppressed_component",
    "session_id": "user_20250902_132411",
    "operation": "sql_mapper_init",
    "suppressed_data": {
      "session_id": "user_20250902_132411",
      "timestamp": "2025-09-02T13:24:11.703491",
      "operation_name": "sql_mapper_init",
      "stdout_content": "âœ… Cargado dimension_anchors.json: 19 entradas\nâœ… Cargado metric_anchors.json: 20 entradas\nğŸ”„ Mapeo reverso construido: 997 palabras mapeadas\nğŸ”— SQLSchemaMapper inicializado:\n   ğŸ“ Dimensiones: 19 anchors\n   ğŸ“Š MÃ©tricas: 20 anchors\n   ğŸ”„ Mapeos reversos: 997 palabras",
      "stderr_content": "",
      "has_content": true
    }
  },
  {
    "timestamp": "2025-09-02T13:24:12.081955",
    "component": "sql",
    "level": "info",
    "message": "âœ… Buffer de ordenamiento ya configurado correctamente",
    "session_time": 0.521759
  },
  {
    "timestamp": "2025-09-02T13:24:12.082680",
    "component": "sql",
    "level": "info",
    "message": "âœ… Buffer de JOIN ya configurado correctamente",
    "session_time": 0.522484
  },
  {
    "timestamp": "2025-09-02T13:24:12.083325",
    "component": "sql",
    "level": "info",
    "message": "âœ… TamaÃ±o tabla temporal ya configurado correctamente",
    "session_time": 0.523129
  },
  {
    "timestamp": "2025-09-02T13:24:12.084085",
    "component": "sql",
    "level": "info",
    "message": "âœ… TamaÃ±o mÃ¡ximo tabla heap ya configurado correctamente",
    "session_time": 0.523889
  },
  {
    "timestamp": "2025-09-02T13:24:12.085159",
    "component": "sql",
    "level": "info",
    "message": "âœ… Cache de threads ya configurado correctamente",
    "session_time": 0.524963
  },
  {
    "timestamp": "2025-09-02T13:24:12.085885",
    "component": "sql",
    "level": "info",
    "message": "âœ… Cache de tablas abiertas ya configurado correctamente",
    "session_time": 0.525689
  },
  {
    "timestamp": "2025-09-02T13:24:12.088807",
    "component": "sql",
    "level": "info",
    "message": "âœ… Flush log en commit ya configurado correctamente",
    "session_time": 0.528611
  },
  {
    "timestamp": "2025-09-02T13:24:12.116858",
    "component": "sql",
    "level": "info",
    "message": "ğŸ¯ Buffer Pool verificado: 10.0GB",
    "session_time": 0.556662
  },
  {
    "timestamp": "2025-09-02T13:24:12.118255",
    "component": "sql",
    "level": "info",
    "message": "ğŸ¯ Sort Buffer verificado: 2.0MB",
    "session_time": 0.558059
  },
  {
    "timestamp": "2025-09-02T13:24:12.119504",
    "component": "sql",
    "level": "info",
    "message": "ğŸ¯ Tmp Table Size verificado: 512.0MB",
    "session_time": 0.559308
  },
  {
    "timestamp": "2025-09-02T13:24:12.120168",
    "component": "sql",
    "level": "info",
    "message": "ğŸ“Š VERIFICACIÃ“N: 3/3 configuraciones crÃ­ticas verificadas",
    "session_time": 0.559972
  },
  {
    "timestamp": "2025-09-02T13:24:12.120176",
    "component": "sql",
    "level": "info",
    "message": "âœ… OPTIMIZACIÃ“N EXITOSA: 8/11 configuraciones aplicadas",
    "session_time": 0.55998
  },
  {
    "timestamp": "2025-09-02T13:24:12.120177",
    "component": "sql",
    "level": "info",
    "message": "ğŸ¯ Configuraciones crÃ­ticas aplicadas correctamente",
    "session_time": 0.559981
  },
  {
    "timestamp": "2025-09-02T13:24:12.120188",
    "component": "main",
    "level": "info",
    "message": "âœ… MODO MYSQL CONFIGURADO (Con Pool):",
    "session_time": 0.559992
  },
  {
    "timestamp": "2025-09-02T13:24:12.120190",
    "component": "main",
    "level": "info",
    "message": "   ğŸ—„ï¸ Base: datos_imperiales",
    "session_time": 0.559994
  },
  {
    "timestamp": "2025-09-02T13:24:12.120193",
    "component": "main",
    "level": "info",
    "message": "   ğŸ“‹ Tabla: datos_output_data_2_20250828_170952_1e0e93",
    "session_time": 0.559997
  },
  {
    "timestamp": "2025-09-02T13:24:12.120194",
    "component": "main",
    "level": "info",
    "message": "   âš¡ Pool: Conexiones concurrentes activas",
    "session_time": 0.559998
  },
  {
    "timestamp": "2025-09-02T13:24:20.157200",
    "component": "flask",
    "level": "info",
    "message": "ğŸ¯ Consulta Flask: total sales of liverpool",
    "session_time": 8.597004
  },
  {
    "timestamp": "2025-09-02T13:24:20.157271",
    "component": "main",
    "level": "info",
    "message": "ğŸš€ INICIANDO FLUJO MAESTRO COMPLETO - MODO: mysql",
    "session_time": 8.597075
  },
  {
    "timestamp": "2025-09-02T13:24:20.157433",
    "component": "nlp",
    "level": "info",
    "message": "ğŸ”„ INICIANDO: Procesando consulta",
    "session_time": 8.597237
  },
  {
    "timestamp": "2025-09-02T13:24:20.157443",
    "component": "nlp",
    "level": "info",
    "message": "ğŸ§  PASO 2 MAESTRO: PROCESAMIENTO CON PROBLEMIZADOR",
    "session_time": 8.597247
  },
  {
    "timestamp": "2025-09-02T13:24:20.157448",
    "component": "nlp",
    "level": "info",
    "message": "â“ Consulta: 'total sales of liverpool'",
    "session_time": 8.597252
  },
  {
    "timestamp": "2025-09-02T13:24:20.157454",
    "component": "nlp",
    "level": "info",
    "message": "ğŸ¯ Modo actual: mysql",
    "session_time": 8.597258
  },
  {
    "timestamp": "2025-09-02T13:24:20.158067",
    "component": "nlp",
    "level": "info",
    "message": "â”œâ”€â”€ Analizando lenguaje natural...",
    "session_time": 8.597871
  },
  {
    "timestamp": "2025-09-02T13:24:20.176393",
    "component": "suppressed_output",
    "level": "suppressed_component",
    "session_id": "user_20250902_132411",
    "operation": "problemizador_process",
    "suppressed_data": {
      "session_id": "user_20250902_132411",
      "timestamp": "2025-09-02T13:24:20.176347",
      "operation_name": "problemizador_process",
      "stdout_content": "ğŸ” ANALIZANDO CONSULTA: 'total sales of liverpool'\nğŸ” DETECTANDO FRASES COMPUESTAS (Dictionary-Based): 'total sales of liverpool'\nğŸ” DEBUG: Query con placeholders: 'total sales of liverpool'\nğŸ” DEBUG: Text en minÃºsculas: 'total sales of liverpool'\n   ğŸ” Generadas 211 frases compuestas automÃ¡ticamente\nğŸ” DEBUG: Antes de restaurar mayÃºsculas: 'total sales of liverpool'\nğŸ”“ RESTAURANDO TOKENS:\n   ğŸ“¥ Input: 'total sales of liverpool'\n   ğŸ”‘ Tokens preservados: {}\n   ğŸ“¤ Output: 'total sales of liverpool'\nğŸ” DEBUG: DespuÃ©s de restaurar mayÃºsculas: 'total sales of liverpool'\nğŸ” TOKENS ORIGINALES: ['total', 'sales', 'of', 'liverpool']\nğŸ”’ DATOS EXCLUIDOS: [] (letras mayÃºsculas = DATOS)\nğŸ” TOKENS PARA ANÃLISIS: ['total', 'sales', 'of', 'liverpool']\n   ğŸ‡ºğŸ‡¸ Conector inglÃ©s: 'total' (+10)\n   ğŸ‡ºğŸ‡¸ Palabra claramente inglesa: 'sales' (+15)\n   ğŸ‡ºğŸ‡¸ Conector inglÃ©s: 'of' (+10)\n   ğŸ¯ RESULTADO: INGLÃ‰S (score: 35 vs 0)\n   ğŸ‡ºğŸ‡¸ Aliases configurados para INGLÃ‰S\n   âœ… Conectores activos: 134 palabras\n   âœ… NÃºmeros activos: 43 palabras\n   âœ… Correcciones activas: 76 palabras\nğŸŒ IDIOMA DETECTADO: EN\nğŸ‡ºğŸ‡¸ CONSULTA EN INGLÃ‰S DETECTADA - ENVIANDO A PIPELINE INGLÃ‰S\nâœ… Cargado dimension_anchors.json: 19 entradas\nâœ… Cargado metric_anchors.json: 20 entradas\nğŸ”„ Mapeo reverso construido: 997 palabras mapeadas\nğŸ”— SQLSchemaMapper inicializado:\n   ğŸ“ Dimensiones: 19 anchors\n   ğŸ“Š MÃ©tricas: 20 anchors\n   ğŸ”„ Mapeos reversos: 997 palabras\nğŸ‡ºğŸ‡¸ English NLP Parser initialized with SQL Schema Mapper\n\nğŸ‡ºğŸ‡¸ PROCESSING ENGLISH QUERY: 'total sales of liverpool'\nğŸ”§ Normalizing English query: 'total sales of liverpool'\nâœ… English normalized: 'total sales of liverpool'\nğŸ§ª DEBUGGING TEMPORAL DICTIONARY:\n   âŒ 'palacio de hierro' â†’ NOT FOUND\n   âŒ 'palaciodehierro' â†’ NOT FOUND\n   âŒ 'palacio_de_hierro' â†’ NOT FOUND\n   âŒ 'liverpool' â†’ NOT FOUND\nğŸ”¤ English tokens: ['total', 'sales', 'of', 'liverpool']\nğŸ” ANÃLISIS PRE-MAPEO de tokens originales: ['total', 'sales', 'of', 'liverpool']\n   ğŸ“Š PLURAL ORIGINAL detectado: 'sales' â†’ SUM\nğŸ§  English semantic intent: SUM\nâ° DETECTING ENGLISH TEMPORAL PATTERNS:\n   ğŸ”¤ Tokens: ['total', 'sales', 'of', 'liverpool']\nâ° TOTAL ENGLISH TEMPORAL FILTERS: 0\nğŸ¯ DETECTING ENGLISH COLUMN-VALUE PATTERNS (WITH ENHANCED STOCK OUT - ORIGINAL METHOD):\nğŸ“… DETECTING THIS WEEK PATTERN:\n   ğŸ“¤ Tokens: ['total', 'sales', 'of', 'liverpool']\n   âŒ No 'this week' pattern found\n   ğŸ”§ DEBUG: Llamando a detect_enhanced_stock_out_pattern_english...\nğŸ“¦ DETECTING ENHANCED Y/N COLUMN PATTERN:\n   ğŸ“¤ Tokens: ['total', 'sales', 'of', 'liverpool']\n   âŒ No Y/N column pattern found\nğŸ” DETECTING IMPLICIT VALUE PATTERNS:\n   ğŸ”¤ Tokens: ['total', 'sales', 'of', 'liverpool']\n      ğŸ” Testing combination: ['total', 'sales', 'of', 'liverpool'] (positions 0-3)\n         ğŸ” Testing variant: 'total sales of liverpool'\n         ğŸ” Testing variant: 'TOTAL SALES OF LIVERPOOL'\n         ğŸ” Testing variant: 'totalsalesofliverpool'\n         ğŸ” Testing variant: 'total(sales(of(liverpool'\n         ğŸ” Testing variant: 'TOTALSALESOFLIVERPOOL'\n         ğŸ” Testing variant: 'total_sales_of_liverpool'\n         ğŸ” Testing variant: 'TOTAL_SALES_OF_LIVERPOOL'\n         ğŸ” Testing variant: 'Total Sales Of Liverpool'\n      ğŸ” Testing combination: ['total', 'sales', 'of'] (positions 0-2)\n         ğŸ” Testing variant: 'total sales of'\n         ğŸ” Testing variant: 'TOTAL SALES OF'\n         ğŸ” Testing variant: 'totalsalesof'\n         ğŸ” Testing variant: 'total(sales(of'\n         ğŸ” Testing variant: 'TOTALSALESOF'\n         ğŸ” Testing variant: 'total_sales_of'\n         ğŸ” Testing variant: 'TOTAL_SALES_OF'\n         ğŸ” Testing variant: 'Total Sales Of'\n      ğŸ” Testing combination: ['total', 'sales'] (positions 0-1)\n         ğŸ” Testing variant: 'total sales'\n         ğŸ” Testing variant: 'TOTAL SALES'\n         ğŸ” Testing variant: 'totalsales'\n         ğŸ” Testing variant: 'total(sales'\n         ğŸ” Testing variant: 'TOTALSALES'\n         ğŸ” Testing variant: 'total_sales'\n         ğŸ” Testing variant: 'TOTAL_SALES'\n         ğŸ” Testing variant: 'Total Sales'\n      ğŸ” Testing combination: ['total'] (positions 0-0)\n         ğŸ” Testing variant: 'total'\n         ğŸ” Testing variant: 'TOTAL'\n         ğŸ” Testing variant: 'Total'\n      ğŸ” Testing combination: ['sales', 'of', 'liverpool'] (positions 1-3)\n         ğŸ” Testing variant: 'sales of liverpool'\n         ğŸ” Testing variant: 'SALES OF LIVERPOOL'\n         ğŸ” Testing variant: 'salesofliverpool'\n         ğŸ” Testing variant: 'sales(of(liverpool'\n         ğŸ” Testing variant: 'SALESOFLIVERPOOL'\n         ğŸ” Testing variant: 'sales_of_liverpool'\n         ğŸ” Testing variant: 'SALES_OF_LIVERPOOL'\n         ğŸ” Testing variant: 'Sales Of Liverpool'\n      ğŸ” Testing combination: ['sales', 'of'] (positions 1-2)\n         ğŸ” Testing variant: 'sales of'\n         ğŸ” Testing variant: 'SALES OF'\n         ğŸ” Testing variant: 'salesof'\n         ğŸ” Testing variant: 'sales(of'\n         ğŸ” Testing variant: 'SALESOF'\n         ğŸ” Testing variant: 'sales_of'\n         ğŸ” Testing variant: 'SALES_OF'\n         ğŸ” Testing variant: 'Sales Of'\n      ğŸ” Testing combination: ['sales'] (positions 1-1)\n         ğŸ” Testing variant: 'sales'\n         ğŸ” Testing variant: 'SALES'\n         ğŸ” Testing variant: 'Sales'\n      ğŸ” Testing combination: ['of', 'liverpool'] (positions 2-3)\n         ğŸ” Testing variant: 'of liverpool'\n         ğŸ” Testing variant: 'OF LIVERPOOL'\n         ğŸ” Testing variant: 'ofliverpool'\n         ğŸ” Testing variant: 'of(liverpool'\n         ğŸ” Testing variant: 'OFLIVERPOOL'\n         ğŸ” Testing variant: 'of_liverpool'\n         ğŸ” Testing variant: 'OF_LIVERPOOL'\n         ğŸ” Testing variant: 'Of Liverpool'\n      ğŸ” Testing combination: ['of'] (positions 2-2)\n         ğŸ” Testing variant: 'of'\n         ğŸ” Testing variant: 'OF'\n         ğŸ” Testing variant: 'Of'\n      ğŸ” Testing combination: ['liverpool'] (positions 3-3)\n         ğŸ” Testing variant: 'liverpool'\n         ğŸ” Testing variant: 'LIVERPOOL'\n         ğŸ” Testing variant: 'Liverpool'\nğŸ” TOTAL IMPLICIT VALUES DETECTED: 0\nğŸ”’ TOTAL POSITIONS PROCESSED: []\nâ° Temporal columns to exclude: set()\nğŸ”’ Positions already processed: []\nğŸ¯ Total filters detected: 0\n   ğŸ“¦ Enhanced stock out: 0\n   ğŸ” Implicit: 0\n   ğŸ“ Explicit: 0\nğŸ”’ Final processed positions: []\nğŸ• DETECTING TEMPORAL CONDITIONAL PATTERN:\n   ğŸ“¤ Tokens: ['total', 'sales', 'of', 'liverpool']\nğŸ• DEBUG: temporal_conditional_pattern = False\nğŸ“‹ DETECTING LIST ALL PATTERN:\n   ğŸ”¤ Tokens: ['total', 'sales', 'of', 'liverpool']\n   âŒ No list indicator found\nğŸ“‹ DEBUG: list_all_pattern = False\nğŸ“Š DETECTING SHOW ROWS PATTERN:\n   ğŸ”¤ Tokens: ['total', 'sales', 'of', 'liverpool']\n   âŒ No show indicator found\nğŸ“Š DEBUG: show_rows_pattern = False\nğŸ” CLASSIFYING ENGLISH COMPONENTS:\nğŸ” English token 'total' classified as operation\nğŸ” English token 'sales' classified as metric\nğŸ” English token 'of' classified as connector\nğŸ” English token 'liverpool' classified as unknown\nğŸ—ï¸ BUILDING COMPLETE ENGLISH QUERY STRUCTURE\nğŸ“Š DETECTING SHOW ROWS PATTERN:\n   ğŸ”¤ Tokens: ['total', 'sales', 'of', 'liverpool']\n   âŒ No show indicator found\n   ğŸ“Š Show rows pattern detected: False\nğŸ“‹ DETECTING LIST ALL PATTERN:\n   ğŸ”¤ Tokens: ['total', 'sales', 'of', 'liverpool']\n   âŒ No list indicator found\n   ğŸ“‹ List all pattern detected: False\nğŸ• DETECTING TEMPORAL CONDITIONAL PATTERN:\n   ğŸ“¤ Tokens: ['total', 'sales', 'of', 'liverpool']\n   ğŸ• Temporal conditional pattern detected: False\nğŸ† DETECTING ENGLISH RANKING CRITERIA:\n   ğŸ”¤ Tokens: ['total', 'sales', 'of', 'liverpool']\n   âŒ No ranking indicators found\nğŸš« DETECTING ENGLISH EXCLUSION FILTERS:\nğŸš« TOTAL ENGLISH EXCLUSION FILTERS: 0\nğŸ† EVALUATING ENGLISH RANKING QUERY:\n   ğŸ“Š Has valid criteria: None\n   ğŸš« Exclusion filters: 0\n   ğŸ¯ Is ranking: False\n   ğŸ† Ranking detected (no special patterns): False\nğŸ”— DETECTING ENGLISH MULTIPLE DIMENSIONS:\n   ğŸ“ English dimensions found: []\n   ğŸ”— English connectors at positions: []\n   âŒ No valid English multi-dimensional pattern detected\nğŸ”— DETECTING ENGLISH COMPOUND CRITERIA:\n   ğŸ”¤ Tokens: ['total', 'sales', 'of', 'liverpool']\n   ğŸ“Š Segments detected: [['total', 'sales', 'of', 'liverpool']]\n\n   ğŸ¯ Processing English segment 1: ['total', 'sales', 'of', 'liverpool']\n      ğŸ” Analyzing English segment: ['total', 'sales', 'of', 'liverpool']\n         âš¡ English operation found: total\n         ğŸ“Š English REAL metric found: sales\n         âœ… English criteria complete: total + sales\n      âœ… English criteria extracted: total sales\n\nğŸ”— TOTAL ENGLISH COMPOUND CRITERIA: 1\n   1. total sales (confidence: 0.95)\nğŸ”— EVALUATING ENGLISH COMPOUND QUERY:\n   ğŸ“Š Valid criteria: 1\n   ğŸ¯ Is compound: False\n   âš¡ English operation: total\n   ğŸ“Š English metric: sales\nğŸ” DETECTING ENGLISH QUERY PATTERN:\n   ğŸ“ Dimension: N/A\n   ğŸ”— Multiple dimensions: 0\n   âš¡ Operations: ['total']\n   ğŸ“Š Metrics: ['sales']\n   ğŸ† Is ranking: False\n   ğŸ”— Is compound: False\n   ğŸ“ Is multi-dimensional: False\n   ğŸ“Š ENGLISH PATTERN: AGGREGATION (global)\nğŸ† DETECTING SUPERLATIVE PATTERN:\n   ğŸ”¤ Tokens: ['total', 'sales', 'of', 'liverpool']\n   âŒ No question word found\nğŸ”¢ DETECTING COUNT PATTERNS IN: 'total sales of liverpool'\n   âŒ No COUNT pattern detected\nğŸ—ï¸ English structure built successfully:\n   ğŸ“Š Operations: 1\n   ğŸ“ˆ Metrics: 1\n   ğŸ¯ Query pattern: aggregation\n   ğŸ† Is ranking: False\n   ğŸ”— Is compound: False\n   ğŸ”— Is multi-dimensional: False\n   ğŸ• Has temporal conditional: False\n   ğŸ“‹ Has list all: False\n   ğŸ“Š Has show rows: False\nğŸ”§ DEBUG: Llegando a validaciÃ³n...\nğŸ” VALIDATING ENGLISH STRUCTURE:\n   ğŸ“‹ Has list_all_pattern: False\n   âœ… English global aggregation valid - no main dimension required\n   ğŸ¯ Validation result: {'valid': True, 'error': None, 'suggestions': ['English unrecognized words: liverpool']}\nğŸ”§ DEBUG: ValidaciÃ³n result = {'valid': True, 'error': None, 'suggestions': ['English unrecognized words: liverpool']}\nğŸ”§ DEBUG: Antes de generar SQL...\nğŸ”§ DEBUG: hasattr list_all_pattern = False\nğŸ”§ GENERATING OPTIMIZED SQL (Enhanced with LIST ALL support):\nğŸ—„ï¸ Generating OPTIMIZED English SQL:\n   â° Temporal columns detected: set()\n   ğŸ¯ Query pattern: aggregation\n   ğŸ”— Is compound: False\n   ğŸ† Is ranking: False\n   ğŸ”— Is multi-dimensional: False\nğŸŒ Generating English SQL for global aggregation\nğŸ”§ DEBUG EXTREMO: MÃ©todo get_advanced_temporal_sql_conditions_english INICIADO\nğŸ”§ DEBUG EXTREMO: Inicializando sql_conditions = []\nâ° GENERATING ADVANCED TEMPORAL CONDITIONS (With Special Patterns):\nğŸ”§ DEBUG EXTREMO: Verificando structure.temporal_filters...\nğŸ”§ DEBUG EXTREMO: hasattr(structure, 'temporal_filters') = True\nğŸ”§ DEBUG EXTREMO: structure.temporal_filters = []\nğŸ”§ DEBUG EXTREMO: len(structure.temporal_filters) = 0\n   ğŸ“‹ Total temporal filters in structure: 0\nğŸ”§ DEBUG EXTREMO: Terminado el loop principal\n   âš ï¸  No advanced_temporal_info available\nğŸ”§ DEBUG EXTREMO: sql_conditions final = []\nâ° TOTAL TEMPORAL CONDITIONS: 0\n   âŒ NO CONDITIONS GENERATED!\nğŸ”§ DEBUG EXTREMO: Retornando sql_conditions = []\n   ğŸ¯ Final OPTIMIZED English SQL: SELECT SUM(sales) FROM datos;\nğŸ”§ DEBUG: SQL conceptual generado = 'SELECT SUM(sales) FROM datos;'\nğŸ”— NORMALIZANDO SQL (Enhanced - Robust):\n   ğŸ“¥ Input: SELECT SUM(sales) FROM datos;\n   ğŸ” Function found: SUM(sales)\n      ğŸ” Searching for 'sales' in anchors...\n      ğŸ“ Checking dimension_anchors (type: <class 'dict'>)\n         ğŸ” Checking anchor_key: 'employee' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'category' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'brand' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'line' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'city' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'country' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'state' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'Store' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'Account' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'Item' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'Stock_Out' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'Product_Group' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'item_group' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'partner_code' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'customer_code' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'vendor_code' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'location' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'Dead_Inventory' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'Channel' (data type: <class 'list'>)\n      ğŸ“Š Checking metric_anchors (type: <class 'dict'>)\n         ğŸ” Checking metric anchor_key: 'Sell_Out' (data type: <class 'list'>)\n      âœ… Metric match: 'sales' â†’ 'Sell_Out' (list structure)\n   ğŸ”„ Function mapping: SUM(sales) â†’ SUM(Sell_Out)\nğŸ”§ AGREGANDO COMILLAS (Dynamic - Using Anchors):\n   ğŸ“¥ Input: SELECT SUM(Sell_Out) FROM datos;\n   ğŸ“Š Normalized columns from anchors: ['Account', 'Avg_4W', 'Avg_8W', 'Brand', 'Category', 'Channel', 'City', 'Cost', 'Country', 'Customer_Code', 'Dead_Inventory', 'Discount', 'Employee', 'Inventory', 'Item', 'Item_Group', 'Line', 'Location', 'Margin', 'Order_Number', 'Orders', 'Partner_Code', 'Price', 'Product_Group', 'Profit', 'Quantity', 'Revenue', 'Roi', 'Sales_Amount', 'Sell_Out', 'Sell_Through', 'State', 'Stock_Out', 'Store', 'Transactions', 'Vendor_Code', 'Venta_Perdida', 'Week']\n      ğŸ“ Added quotes: Sell_Out â†’ \"Sell_Out\" at position 11\n   ğŸ“¤ Output: SELECT SUM(\"Sell_Out\") FROM datos;\n   ğŸ“Š Reemplazos realizados: 1\n   ğŸ“¤ Output: SELECT SUM(\"Sell_Out\") FROM datos;\n   ğŸ“Š Reemplazos realizados: 1\nâœ… Schema mapping applied successfully\nğŸ”§ DEBUG: SQL final = 'SELECT SUM(\"Sell_Out\") FROM datos;'\nğŸ” Generando estructura jerÃ¡rquica para consulta compuesta:\n   ğŸ“ DimensiÃ³n: N/A\n   ğŸ”— Es compuesta: False\n   ğŸ”— Criterios compuestos: 1\n   â° Columnas temporales: set()\n   ğŸ”„ Â¿DimensiÃ³n en filtros? False\n   âœ… OperaciÃ³n+MÃ©trica tradicional: ((total) (sales))\n   ğŸ¯ Resultado final COMPUESTO: ((total) (sales))\nğŸ”§ DEBUG: Final result created successfully\nğŸ”§ DEBUG: SQL in result = 'SELECT SUM(\"Sell_Out\") FROM datos;'",
      "stderr_content": "",
      "has_content": true
    }
  },
  {
    "timestamp": "2025-09-02T13:24:20.176410",
    "component": "nlp",
    "level": "info",
    "message": "âœ… Problemizador completado:",
    "session_time": 8.616214
  },
  {
    "timestamp": "2025-09-02T13:24:20.176420",
    "component": "nlp",
    "level": "info",
    "message": "   ğŸ—„ï¸ SQL conceptual generado: SELECT SUM(\"Sell_Out\") FROM datos;",
    "session_time": 8.616224
  },
  {
    "timestamp": "2025-09-02T13:24:20.176471",
    "component": "nlp",
    "level": "info",
    "message": "âœ… SUCCESS: Procesando consulta (19ms)",
    "session_time": 8.616275
  },
  {
    "timestamp": "2025-09-02T13:24:20.176487",
    "component": "exec",
    "level": "info",
    "message": "ğŸ—„ï¸ EJECUTANDO SQL - MODO: mysql",
    "session_time": 8.616291
  },
  {
    "timestamp": "2025-09-02T13:24:20.176492",
    "component": "exec",
    "level": "info",
    "message": "   ğŸ—„ï¸ Destino: MySQL CON POOL DE CONEXIONES",
    "session_time": 8.616296
  },
  {
    "timestamp": "2025-09-02T13:24:20.176499",
    "component": "exec",
    "level": "info",
    "message": "ğŸ—„ï¸ PASO 3 MAESTRO: EJECUCIÃ“N EN MYSQL CON POOL",
    "session_time": 8.616303
  },
  {
    "timestamp": "2025-09-02T13:24:20.176514",
    "component": "sql",
    "level": "info",
    "message": "ğŸ”„ INICIANDO CONVERSIÃ“N SQL:",
    "session_time": 8.616318
  },
  {
    "timestamp": "2025-09-02T13:24:20.176518",
    "component": "sql",
    "level": "info",
    "message": "   ğŸ“¥ SQL SQLite: SELECT SUM(\"Sell_Out\") FROM datos;",
    "session_time": 8.616322
  },
  {
    "timestamp": "2025-09-02T13:24:20.177077",
    "component": "sql",
    "level": "info",
    "message": "âœ… CONVERSIÃ“N COMPLETADA:",
    "session_time": 8.616881
  },
  {
    "timestamp": "2025-09-02T13:24:20.177084",
    "component": "sql",
    "level": "info",
    "message": "   ğŸ“¤ SQL MySQL: SELECT SUM(`Sell_Out`) FROM `datos_output_data_2_20250828_170952_1e0e93`;",
    "session_time": 8.616888
  },
  {
    "timestamp": "2025-09-02T13:24:20.177091",
    "component": "mysql",
    "level": "info",
    "message": "ğŸ”§ SQL adaptado para MySQL:",
    "session_time": 8.616895
  },
  {
    "timestamp": "2025-09-02T13:24:20.177095",
    "component": "mysql",
    "level": "info",
    "message": "   Original: SELECT SUM(\"Sell_Out\") FROM datos;",
    "session_time": 8.616899
  },
  {
    "timestamp": "2025-09-02T13:24:20.177098",
    "component": "mysql",
    "level": "info",
    "message": "   Adaptado: SELECT SUM(`Sell_Out`) FROM `datos_output_data_2_20250828_170952_1e0e93`;",
    "session_time": 8.616902
  },
  {
    "timestamp": "2025-09-02T13:24:20.177102",
    "component": "mysql",
    "level": "info",
    "message": "   â€¢ quotes_conversion_1_replaced",
    "session_time": 8.616906
  },
  {
    "timestamp": "2025-09-02T13:24:20.177106",
    "component": "mysql",
    "level": "info",
    "message": "   â€¢ table_replacement_True",
    "session_time": 8.61691
  },
  {
    "timestamp": "2025-09-02T13:24:20.177110",
    "component": "mysql",
    "level": "info",
    "message": "   â€¢ rowid_removal_False",
    "session_time": 8.616914
  },
  {
    "timestamp": "2025-09-02T13:24:20.177166",
    "component": "pool",
    "level": "info",
    "message": "ğŸ“ Query sÃ­ncrona enviada - ID: Q00001_flask_app_1756841060, Usuario: flask_app",
    "session_time": 8.61697
  },
  {
    "timestamp": "2025-09-02T13:24:22.323568",
    "component": "mysql",
    "level": "info",
    "message": "âœ… Query convertida ejecutada - Usuario: flask_app, Filas: 1, Espera: 0ms, EjecuciÃ³n: 2144ms",
    "session_time": 10.763372
  },
  {
    "timestamp": "2025-09-02T13:24:22.323600",
    "component": "mysql",
    "level": "info",
    "message": "   ğŸ“ ConversiÃ³n aplicada: Comillas: 1, Tabla: SÃ­, ROWID: No",
    "session_time": 10.763404
  },
  {
    "timestamp": "2025-09-02T13:24:22.323612",
    "component": "exec",
    "level": "info",
    "message": "âš¡ MÃ©tricas Pool: Espera: 0ms, EjecuciÃ³n: 2144ms, Worker: 0",
    "session_time": 10.763416
  },
  {
    "timestamp": "2025-09-02T13:24:22.323764",
    "component": "flask",
    "level": "info",
    "message": "âœ… Consulta Flask exitosa: 1 filas",
    "session_time": 10.763568
  },
  {
    "timestamp": "2025-09-02T13:24:22.323772",
    "component": "flask",
    "level": "info",
    "message": "â±ï¸ Tiempo: 2166ms",
    "session_time": 10.763576
  },
  {
    "timestamp": "2025-09-02T13:24:38.466488",
    "component": "flask",
    "level": "info",
    "message": "ğŸ¯ Consulta Flask: List all accounts",
    "session_time": 26.906292
  },
  {
    "timestamp": "2025-09-02T13:24:38.466557",
    "component": "main",
    "level": "info",
    "message": "ğŸš€ INICIANDO FLUJO MAESTRO COMPLETO - MODO: mysql",
    "session_time": 26.906361
  },
  {
    "timestamp": "2025-09-02T13:24:38.466610",
    "component": "nlp",
    "level": "info",
    "message": "ğŸ”„ INICIANDO: Procesando consulta",
    "session_time": 26.906414
  },
  {
    "timestamp": "2025-09-02T13:24:38.466618",
    "component": "nlp",
    "level": "info",
    "message": "ğŸ§  PASO 2 MAESTRO: PROCESAMIENTO CON PROBLEMIZADOR",
    "session_time": 26.906422
  },
  {
    "timestamp": "2025-09-02T13:24:38.466622",
    "component": "nlp",
    "level": "info",
    "message": "â“ Consulta: 'List all accounts'",
    "session_time": 26.906426
  },
  {
    "timestamp": "2025-09-02T13:24:38.466629",
    "component": "nlp",
    "level": "info",
    "message": "ğŸ¯ Modo actual: mysql",
    "session_time": 26.906433
  },
  {
    "timestamp": "2025-09-02T13:24:38.466640",
    "component": "nlp",
    "level": "info",
    "message": "â”œâ”€â”€ Analizando lenguaje natural...",
    "session_time": 26.906444
  },
  {
    "timestamp": "2025-09-02T13:24:38.478657",
    "component": "suppressed_output",
    "level": "suppressed_component",
    "session_id": "user_20250902_132411",
    "operation": "problemizador_process",
    "suppressed_data": {
      "session_id": "user_20250902_132411",
      "timestamp": "2025-09-02T13:24:38.478609",
      "operation_name": "problemizador_process",
      "stdout_content": "ğŸ” ANALIZANDO CONSULTA: 'List all accounts'\nğŸ” DETECTANDO FRASES COMPUESTAS (Dictionary-Based): 'List all accounts'\nğŸ” DEBUG: Query con placeholders: 'List all accounts'\nğŸ” DEBUG: Text en minÃºsculas: 'list all accounts'\n   ğŸ” Generadas 211 frases compuestas automÃ¡ticamente\nğŸ” DEBUG: Antes de restaurar mayÃºsculas: 'list all accounts'\nğŸ”“ RESTAURANDO TOKENS:\n   ğŸ“¥ Input: 'list all accounts'\n   ğŸ”‘ Tokens preservados: {}\n   ğŸ“¤ Output: 'list all accounts'\nğŸ” DEBUG: DespuÃ©s de restaurar mayÃºsculas: 'list all accounts'\nğŸ” TOKENS ORIGINALES: ['list', 'all', 'accounts']\nğŸ”’ DATOS EXCLUIDOS: [] (letras mayÃºsculas = DATOS)\nğŸ” TOKENS PARA ANÃLISIS: ['list', 'all', 'accounts']\n   ğŸ‡ºğŸ‡¸ Conector inglÃ©s: 'all' (+10)\n   ğŸ¯ RESULTADO: INGLÃ‰S (score: 10 vs 0)\n   ğŸ‡ºğŸ‡¸ Aliases configurados para INGLÃ‰S\n   âœ… Conectores activos: 134 palabras\n   âœ… NÃºmeros activos: 43 palabras\n   âœ… Correcciones activas: 76 palabras\nğŸŒ IDIOMA DETECTADO: EN\nğŸ‡ºğŸ‡¸ CONSULTA EN INGLÃ‰S DETECTADA - ENVIANDO A PIPELINE INGLÃ‰S\nâœ… Cargado dimension_anchors.json: 19 entradas\nâœ… Cargado metric_anchors.json: 20 entradas\nğŸ”„ Mapeo reverso construido: 997 palabras mapeadas\nğŸ”— SQLSchemaMapper inicializado:\n   ğŸ“ Dimensiones: 19 anchors\n   ğŸ“Š MÃ©tricas: 20 anchors\n   ğŸ”„ Mapeos reversos: 997 palabras\nğŸ‡ºğŸ‡¸ English NLP Parser initialized with SQL Schema Mapper\n\nğŸ‡ºğŸ‡¸ PROCESSING ENGLISH QUERY: 'List all accounts'\nğŸ”§ Normalizing English query: 'list all accounts'\nâœ… English normalized: 'list all accounts'\nğŸ§ª DEBUGGING TEMPORAL DICTIONARY:\n   âŒ 'palacio de hierro' â†’ NOT FOUND\n   âŒ 'palaciodehierro' â†’ NOT FOUND\n   âŒ 'palacio_de_hierro' â†’ NOT FOUND\n   âŒ 'liverpool' â†’ NOT FOUND\nğŸ”¤ English tokens: ['list', 'all', 'accounts']\nğŸ” ANÃLISIS PRE-MAPEO de tokens originales: ['list', 'all', 'accounts']\n   ğŸ“Š PLURAL ORIGINAL detectado: 'accounts' â†’ SUM\nğŸ§  English semantic intent: SUM\nâ° DETECTING ENGLISH TEMPORAL PATTERNS:\n   ğŸ”¤ Tokens: ['list', 'all', 'accounts']\nâ° TOTAL ENGLISH TEMPORAL FILTERS: 0\nğŸ¯ DETECTING ENGLISH COLUMN-VALUE PATTERNS (WITH ENHANCED STOCK OUT - ORIGINAL METHOD):\nğŸ“… DETECTING THIS WEEK PATTERN:\n   ğŸ“¤ Tokens: ['list', 'all', 'accounts']\n   âŒ No 'this week' pattern found\n   ğŸ”§ DEBUG: Llamando a detect_enhanced_stock_out_pattern_english...\nğŸ“¦ DETECTING ENHANCED Y/N COLUMN PATTERN:\n   ğŸ“¤ Tokens: ['list', 'all', 'accounts']\n   âŒ No Y/N column pattern found\nğŸ” DETECTING IMPLICIT VALUE PATTERNS:\n   ğŸ”¤ Tokens: ['list', 'all', 'accounts']\n      ğŸ” Testing combination: ['list', 'all', 'accounts'] (positions 0-2)\n         ğŸ” Testing variant: 'list all accounts'\n         ğŸ” Testing variant: 'LIST ALL ACCOUNTS'\n         ğŸ” Testing variant: 'listallaccounts'\n         ğŸ” Testing variant: 'list(all(accounts'\n         ğŸ” Testing variant: 'LISTALLACCOUNTS'\n         ğŸ” Testing variant: 'list_all_accounts'\n         ğŸ” Testing variant: 'LIST_ALL_ACCOUNTS'\n         ğŸ” Testing variant: 'List All Accounts'\n      ğŸ” Testing combination: ['list', 'all'] (positions 0-1)\n         ğŸ” Testing variant: 'list all'\n         ğŸ” Testing variant: 'LIST ALL'\n         ğŸ” Testing variant: 'listall'\n         ğŸ” Testing variant: 'list(all'\n         ğŸ” Testing variant: 'LISTALL'\n         ğŸ” Testing variant: 'list_all'\n         ğŸ” Testing variant: 'LIST_ALL'\n         ğŸ” Testing variant: 'List All'\n      ğŸ” Testing combination: ['list'] (positions 0-0)\n         ğŸ” Testing variant: 'list'\n         ğŸ” Testing variant: 'LIST'\n         ğŸ” Testing variant: 'List'\n      ğŸ” Testing combination: ['all', 'accounts'] (positions 1-2)\n         ğŸ” Testing variant: 'all accounts'\n         ğŸ” Testing variant: 'ALL ACCOUNTS'\n         ğŸ” Testing variant: 'allaccounts'\n         ğŸ” Testing variant: 'all(accounts'\n         ğŸ” Testing variant: 'ALLACCOUNTS'\n         ğŸ” Testing variant: 'all_accounts'\n         ğŸ” Testing variant: 'ALL_ACCOUNTS'\n         ğŸ” Testing variant: 'All Accounts'\n      ğŸ” Testing combination: ['all'] (positions 1-1)\n         ğŸ” Testing variant: 'all'\n         ğŸ” Testing variant: 'ALL'\n         ğŸ” Testing variant: 'All'\n      ğŸ” Testing combination: ['accounts'] (positions 2-2)\n         ğŸ” Testing variant: 'accounts'\n         ğŸ” Testing variant: 'ACCOUNTS'\n         ğŸ” Testing variant: 'Accounts'\nğŸ” TOTAL IMPLICIT VALUES DETECTED: 0\nğŸ”’ TOTAL POSITIONS PROCESSED: []\nâ° Temporal columns to exclude: set()\nğŸ”’ Positions already processed: []\nğŸ¯ Total filters detected: 0\n   ğŸ“¦ Enhanced stock out: 0\n   ğŸ” Implicit: 0\n   ğŸ“ Explicit: 0\nğŸ”’ Final processed positions: []\nğŸ• DETECTING TEMPORAL CONDITIONAL PATTERN:\n   ğŸ“¤ Tokens: ['list', 'all', 'accounts']\nğŸ• DEBUG: temporal_conditional_pattern = False\nğŸ“‹ DETECTING LIST ALL PATTERN:\n   ğŸ”¤ Tokens: ['list', 'all', 'accounts']\n   âœ… List indicator: 'list' at position 0\n   âœ… All indicator: 'all' at position 1\n   âœ… Target dimension: 'accounts'\nğŸ“‹ LIST ALL PATTERN DETECTED:\n   ğŸ“‹ List indicator: list\n   ğŸŒ Has 'all': True\n   ğŸ“ Target dimension: accounts\n   ğŸ“Š Has aggregation: False\n   â­ Confidence: 1.00\nğŸ“‹ DEBUG: list_all_pattern = True\nğŸ“Š DETECTING SHOW ROWS PATTERN:\n   ğŸ”¤ Tokens: ['list', 'all', 'accounts']\n   âœ… Show indicator: 'list' at position 0\n   âŒ No row count found\nğŸ“Š DEBUG: show_rows_pattern = False\nğŸ” CLASSIFYING ENGLISH COMPONENTS:\nğŸ” English token 'list' classified as unknown\nğŸ” English token 'all' classified as connector\nğŸ” English token 'accounts' classified as dimension\nğŸ—ï¸ BUILDING COMPLETE ENGLISH QUERY STRUCTURE\nğŸ“Š DETECTING SHOW ROWS PATTERN:\n   ğŸ”¤ Tokens: ['list', 'all', 'accounts']\n   âœ… Show indicator: 'list' at position 0\n   âŒ No row count found\n   ğŸ“Š Show rows pattern detected: False\nğŸ“‹ DETECTING LIST ALL PATTERN:\n   ğŸ”¤ Tokens: ['list', 'all', 'accounts']\n   âœ… List indicator: 'list' at position 0\n   âœ… All indicator: 'all' at position 1\n   âœ… Target dimension: 'accounts'\nğŸ“‹ LIST ALL PATTERN DETECTED:\n   ğŸ“‹ List indicator: list\n   ğŸŒ Has 'all': True\n   ğŸ“ Target dimension: accounts\n   ğŸ“Š Has aggregation: False\n   â­ Confidence: 1.00\n   ğŸ“‹ List all pattern detected: True\nğŸ• DETECTING TEMPORAL CONDITIONAL PATTERN:\n   ğŸ“¤ Tokens: ['list', 'all', 'accounts']\n   ğŸ• Temporal conditional pattern detected: False\n   ğŸ† Skipping ranking detection due to special patterns\nğŸš« DETECTING ENGLISH EXCLUSION FILTERS:\nğŸš« TOTAL ENGLISH EXCLUSION FILTERS: 0\nğŸ”— DETECTING ENGLISH MULTIPLE DIMENSIONS:\n   ğŸ“ English dimensions found: [(2, 'accounts')]\n   ğŸ”— English connectors at positions: []\n   âŒ No valid English multi-dimensional pattern detected\nğŸ”— DETECTING ENGLISH COMPOUND CRITERIA:\n   ğŸ”¤ Tokens: ['list', 'all', 'accounts']\n   ğŸ“Š Segments detected: [['list', 'all', 'accounts']]\n\n   ğŸ¯ Processing English segment 1: ['list', 'all', 'accounts']\n      ğŸ” Analyzing English segment: ['list', 'all', 'accounts']\n         ğŸ“ English dimension candidate: accounts\n         ğŸ”„ English dimension converted to metric: accounts\n         âŒ English criteria incomplete:\n             Operation: NOT FOUND\n             Metric: accounts\n      âŒ Could not extract criteria from segment\n\nğŸ”— TOTAL ENGLISH COMPOUND CRITERIA: 0\nğŸ”— EVALUATING ENGLISH COMPOUND QUERY:\n   ğŸ“Š Valid criteria: 0\n   ğŸ¯ Is compound: False\n   ğŸ“ English main dimension: accounts\n   ğŸ“‹ Structure marked as LIST_ALL\nğŸ” DETECTING ENGLISH QUERY PATTERN:\n   ğŸ“ Dimension: accounts\n   ğŸ”— Multiple dimensions: 1\n   âš¡ Operations: []\n   ğŸ“Š Metrics: []\n   ğŸ† Is ranking: False\n   ğŸ”— Is compound: False\n   ğŸ“ Is multi-dimensional: False\n   ğŸ“‹ ENGLISH PATTERN: LIST_ALL (special pattern priority)\nğŸ”¢ DETECTING COUNT PATTERNS IN: 'list all accounts'\n   âŒ No COUNT pattern detected\nğŸ—ï¸ English structure built successfully:\n   ğŸ“Š Operations: 0\n   ğŸ“ˆ Metrics: 0\n   ğŸ¯ Query pattern: list_all\n   ğŸ† Is ranking: False\n   ğŸ”— Is compound: False\n   ğŸ”— Is multi-dimensional: False\n   ğŸ• Has temporal conditional: False\n   ğŸ“‹ Has list all: True\n   ğŸ“Š Has show rows: False\nğŸ”§ DEBUG: Llegando a validaciÃ³n...\nğŸ” VALIDATING ENGLISH STRUCTURE:\n   ğŸ“‹ Has list_all_pattern: True\n   ğŸ“‹ LIST_ALL pattern detected - using special validation\n   âœ… LIST_ALL validation passed - target: accounts\nğŸ”§ DEBUG: ValidaciÃ³n result = {'valid': True, 'error': None, 'suggestions': []}\nğŸ”§ DEBUG: Antes de generar SQL...\nğŸ”§ DEBUG: hasattr list_all_pattern = True\nğŸ”§ DEBUG: list_all_pattern value = {'pattern_type': 'LIST_ALL', 'list_indicator': 'list', 'has_all_indicator': True, 'all_indicator': 'all', 'target_dimension': 'accounts', 'has_aggregation': False, 'confidence': 0.9999999999999999, 'raw_tokens': ['list', 'all', 'accounts'], 'is_temporal_list': False}\nğŸ”§ GENERATING OPTIMIZED SQL (Enhanced with LIST ALL support):\nğŸ“‹ DETECTED: Enhanced English list all â†’ using ENHANCED specialized generator\nğŸ“‹ GENERATING ENHANCED LIST ALL SQL (WITH DISTINCT/GROUP BY LOGIC):\n   ğŸ“‹ List type: list\n   ğŸ“ Target dimension: accounts\n   ğŸ“Š Has aggregation: False\n   ğŸ“‹ Simple list - using DISTINCT\n   âœ… Using DISTINCT for unique values\n   â° Processing temporal conditions for LIST ALL...\nğŸ”§ DEBUG EXTREMO: MÃ©todo get_advanced_temporal_sql_conditions_english INICIADO\nğŸ”§ DEBUG EXTREMO: Inicializando sql_conditions = []\nâ° GENERATING ADVANCED TEMPORAL CONDITIONS (With Special Patterns):\nğŸ”§ DEBUG EXTREMO: Verificando structure.temporal_filters...\nğŸ”§ DEBUG EXTREMO: hasattr(structure, 'temporal_filters') = True\nğŸ”§ DEBUG EXTREMO: structure.temporal_filters = []\nğŸ”§ DEBUG EXTREMO: len(structure.temporal_filters) = 0\n   ğŸ“‹ Total temporal filters in structure: 0\nğŸ”§ DEBUG EXTREMO: Terminado el loop principal\n   âš ï¸  No advanced_temporal_info available\nğŸ”§ DEBUG EXTREMO: sql_conditions final = []\nâ° TOTAL TEMPORAL CONDITIONS: 0\n   âŒ NO CONDITIONS GENERATED!\nğŸ”§ DEBUG EXTREMO: Retornando sql_conditions = []\n   â° Found 0 temporal conditions\n   ğŸ¯ Enhanced LIST ALL SQL: SELECT DISTINCT accounts FROM datos ORDER BY accounts;\nğŸ”§ DEBUG: SQL conceptual generado = 'SELECT DISTINCT accounts FROM datos ORDER BY accounts;'\nğŸ”— NORMALIZANDO SQL (Enhanced - Robust):\n   ğŸ“¥ Input: SELECT DISTINCT accounts FROM datos ORDER BY accounts;\n      ğŸ” Searching for 'accounts' in anchors...\n      ğŸ“ Checking dimension_anchors (type: <class 'dict'>)\n         ğŸ” Checking anchor_key: 'employee' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'category' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'brand' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'line' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'city' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'country' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'state' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'Store' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'Account' (data type: <class 'list'>)\n      âœ… Dimension match: 'accounts' â†’ 'Account' (list structure)\n   ğŸ”„ Standalone mapping: 'accounts' â†’ Account\nğŸ”§ AGREGANDO COMILLAS (Dynamic - Using Anchors):\n   ğŸ“¥ Input: SELECT DISTINCT Account FROM datos ORDER BY Account;\n   ğŸ“Š Normalized columns from anchors: ['Account', 'Avg_4W', 'Avg_8W', 'Brand', 'Category', 'Channel', 'City', 'Cost', 'Country', 'Customer_Code', 'Dead_Inventory', 'Discount', 'Employee', 'Inventory', 'Item', 'Item_Group', 'Line', 'Location', 'Margin', 'Order_Number', 'Orders', 'Partner_Code', 'Price', 'Product_Group', 'Profit', 'Quantity', 'Revenue', 'Roi', 'Sales_Amount', 'Sell_Out', 'Sell_Through', 'State', 'Stock_Out', 'Store', 'Transactions', 'Vendor_Code', 'Venta_Perdida', 'Week']\n      ğŸ“ Added quotes: Account â†’ \"Account\" at position 44\n      ğŸ“ Added quotes: Account â†’ \"Account\" at position 16\n   ğŸ“¤ Output: SELECT DISTINCT \"Account\" FROM datos ORDER BY \"Account\";\n   ğŸ“Š Reemplazos realizados: 2\n   ğŸ“¤ Output: SELECT DISTINCT \"Account\" FROM datos ORDER BY \"Account\";\n   ğŸ“Š Reemplazos realizados: 1\nâœ… Schema mapping applied successfully\nğŸ”§ DEBUG: SQL final = 'SELECT DISTINCT \"Account\" FROM datos ORDER BY \"Account\";'\nğŸ” Generando estructura jerÃ¡rquica para consulta compuesta:\n   ğŸ“ DimensiÃ³n: accounts\n   ğŸ”— Es compuesta: False\n   ğŸ”— Criterios compuestos: 0\n   â° Columnas temporales: set()\n   ğŸ”„ Â¿DimensiÃ³n en filtros? False\n   âœ… Parte principal: (accounts)\n   ğŸ¯ Resultado final COMPUESTO: (accounts)\nğŸ”§ DEBUG: Final result created successfully\nğŸ”§ DEBUG: SQL in result = 'SELECT DISTINCT \"Account\" FROM datos ORDER BY \"Account\";'",
      "stderr_content": "",
      "has_content": true
    }
  },
  {
    "timestamp": "2025-09-02T13:24:38.478673",
    "component": "nlp",
    "level": "info",
    "message": "âœ… Problemizador completado:",
    "session_time": 26.918477
  },
  {
    "timestamp": "2025-09-02T13:24:38.478684",
    "component": "nlp",
    "level": "info",
    "message": "   ğŸ—„ï¸ SQL conceptual generado: SELECT DISTINCT \"Account\" FROM datos ORDER BY \"Account\";",
    "session_time": 26.918488
  },
  {
    "timestamp": "2025-09-02T13:24:38.478726",
    "component": "nlp",
    "level": "info",
    "message": "âœ… SUCCESS: Procesando consulta (12ms)",
    "session_time": 26.91853
  },
  {
    "timestamp": "2025-09-02T13:24:38.478742",
    "component": "exec",
    "level": "info",
    "message": "ğŸ—„ï¸ EJECUTANDO SQL - MODO: mysql",
    "session_time": 26.918546
  },
  {
    "timestamp": "2025-09-02T13:24:38.478747",
    "component": "exec",
    "level": "info",
    "message": "   ğŸ—„ï¸ Destino: MySQL CON POOL DE CONEXIONES",
    "session_time": 26.918551
  },
  {
    "timestamp": "2025-09-02T13:24:38.478755",
    "component": "exec",
    "level": "info",
    "message": "ğŸ—„ï¸ PASO 3 MAESTRO: EJECUCIÃ“N EN MYSQL CON POOL",
    "session_time": 26.918559
  },
  {
    "timestamp": "2025-09-02T13:24:38.478763",
    "component": "sql",
    "level": "info",
    "message": "ğŸ”„ INICIANDO CONVERSIÃ“N SQL:",
    "session_time": 26.918567
  },
  {
    "timestamp": "2025-09-02T13:24:38.478767",
    "component": "sql",
    "level": "info",
    "message": "   ğŸ“¥ SQL SQLite: SELECT DISTINCT \"Account\" FROM datos ORDER BY \"Account\";",
    "session_time": 26.918571
  },
  {
    "timestamp": "2025-09-02T13:24:38.478824",
    "component": "sql",
    "level": "info",
    "message": "âœ… CONVERSIÃ“N COMPLETADA:",
    "session_time": 26.918628
  },
  {
    "timestamp": "2025-09-02T13:24:38.478829",
    "component": "sql",
    "level": "info",
    "message": "   ğŸ“¤ SQL MySQL: SELECT DISTINCT `Account` FROM `datos_output_data_2_20250828_170952_1e0e93` ORDER BY `Account`;",
    "session_time": 26.918633
  },
  {
    "timestamp": "2025-09-02T13:24:38.479098",
    "component": "mysql",
    "level": "info",
    "message": "ğŸ”§ SQL adaptado para MySQL:",
    "session_time": 26.918902
  },
  {
    "timestamp": "2025-09-02T13:24:38.479332",
    "component": "mysql",
    "level": "info",
    "message": "   Original: SELECT DISTINCT \"Account\" FROM datos ORDER BY \"Account\";",
    "session_time": 26.919136
  },
  {
    "timestamp": "2025-09-02T13:24:38.479339",
    "component": "mysql",
    "level": "info",
    "message": "   Adaptado: SELECT DISTINCT `Account` FROM `datos_output_data_2_20250828_170952_1e0e93` ORDER BY `Account`;",
    "session_time": 26.919143
  },
  {
    "timestamp": "2025-09-02T13:24:38.479343",
    "component": "mysql",
    "level": "info",
    "message": "   â€¢ quotes_conversion_2_replaced",
    "session_time": 26.919147
  },
  {
    "timestamp": "2025-09-02T13:24:38.479348",
    "component": "mysql",
    "level": "info",
    "message": "   â€¢ table_replacement_True",
    "session_time": 26.919152
  },
  {
    "timestamp": "2025-09-02T13:24:38.479351",
    "component": "mysql",
    "level": "info",
    "message": "   â€¢ rowid_removal_False",
    "session_time": 26.919155
  },
  {
    "timestamp": "2025-09-02T13:24:38.479417",
    "component": "pool",
    "level": "info",
    "message": "ğŸ“ Query sÃ­ncrona enviada - ID: Q00002_flask_app_1756841078, Usuario: flask_app",
    "session_time": 26.919221
  },
  {
    "timestamp": "2025-09-02T13:24:43.003125",
    "component": "mysql",
    "level": "info",
    "message": "âœ… Query convertida ejecutada - Usuario: flask_app, Filas: 29, Espera: 1ms, EjecuciÃ³n: 4520ms",
    "session_time": 31.442929
  },
  {
    "timestamp": "2025-09-02T13:24:43.003189",
    "component": "mysql",
    "level": "info",
    "message": "   ğŸ“ ConversiÃ³n aplicada: Comillas: 2, Tabla: SÃ­, ROWID: No",
    "session_time": 31.442993
  },
  {
    "timestamp": "2025-09-02T13:24:43.003213",
    "component": "exec",
    "level": "info",
    "message": "âš¡ MÃ©tricas Pool: Espera: 1ms, EjecuciÃ³n: 4520ms, Worker: 1",
    "session_time": 31.443017
  },
  {
    "timestamp": "2025-09-02T13:24:43.003785",
    "component": "flask",
    "level": "info",
    "message": "âœ… Consulta Flask exitosa: 29 filas",
    "session_time": 31.443589
  },
  {
    "timestamp": "2025-09-02T13:24:43.003799",
    "component": "flask",
    "level": "info",
    "message": "â±ï¸ Tiempo: 4536ms",
    "session_time": 31.443603
  },
  {
    "timestamp": "2025-09-02T13:24:50.497745",
    "component": "flask",
    "level": "info",
    "message": "ğŸ¯ Consulta Flask: List all sores",
    "session_time": 38.937549
  },
  {
    "timestamp": "2025-09-02T13:24:50.497793",
    "component": "main",
    "level": "info",
    "message": "ğŸš€ INICIANDO FLUJO MAESTRO COMPLETO - MODO: mysql",
    "session_time": 38.937597
  },
  {
    "timestamp": "2025-09-02T13:24:50.497851",
    "component": "nlp",
    "level": "info",
    "message": "ğŸ”„ INICIANDO: Procesando consulta",
    "session_time": 38.937655
  },
  {
    "timestamp": "2025-09-02T13:24:50.497861",
    "component": "nlp",
    "level": "info",
    "message": "ğŸ§  PASO 2 MAESTRO: PROCESAMIENTO CON PROBLEMIZADOR",
    "session_time": 38.937665
  },
  {
    "timestamp": "2025-09-02T13:24:50.497869",
    "component": "nlp",
    "level": "info",
    "message": "â“ Consulta: 'List all sores'",
    "session_time": 38.937673
  },
  {
    "timestamp": "2025-09-02T13:24:50.497879",
    "component": "nlp",
    "level": "info",
    "message": "ğŸ¯ Modo actual: mysql",
    "session_time": 38.937683
  },
  {
    "timestamp": "2025-09-02T13:24:50.497888",
    "component": "nlp",
    "level": "info",
    "message": "â”œâ”€â”€ Analizando lenguaje natural...",
    "session_time": 38.937692
  },
  {
    "timestamp": "2025-09-02T13:24:50.503111",
    "component": "suppressed_output",
    "level": "suppressed_component",
    "session_id": "user_20250902_132411",
    "operation": "problemizador_process",
    "suppressed_data": {
      "session_id": "user_20250902_132411",
      "timestamp": "2025-09-02T13:24:50.503082",
      "operation_name": "problemizador_process",
      "stdout_content": "ğŸ” ANALIZANDO CONSULTA: 'List all sores'\nğŸ” DETECTANDO FRASES COMPUESTAS (Dictionary-Based): 'List all sores'\nğŸ” DEBUG: Query con placeholders: 'List all sores'\nğŸ” DEBUG: Text en minÃºsculas: 'list all sores'\n   ğŸ” Generadas 211 frases compuestas automÃ¡ticamente\nğŸ” DEBUG: Antes de restaurar mayÃºsculas: 'list all sores'\nğŸ”“ RESTAURANDO TOKENS:\n   ğŸ“¥ Input: 'list all sores'\n   ğŸ”‘ Tokens preservados: {}\n   ğŸ“¤ Output: 'list all sores'\nğŸ” DEBUG: DespuÃ©s de restaurar mayÃºsculas: 'list all sores'\nğŸ” TOKENS ORIGINALES: ['list', 'all', 'sores']\nğŸ”’ DATOS EXCLUIDOS: [] (letras mayÃºsculas = DATOS)\nğŸ” TOKENS PARA ANÃLISIS: ['list', 'all', 'sores']\n   ğŸ‡ºğŸ‡¸ Conector inglÃ©s: 'all' (+10)\n   ğŸ¯ RESULTADO: INGLÃ‰S (score: 10 vs 0)\n   ğŸ‡ºğŸ‡¸ Aliases configurados para INGLÃ‰S\n   âœ… Conectores activos: 134 palabras\n   âœ… NÃºmeros activos: 43 palabras\n   âœ… Correcciones activas: 76 palabras\nğŸŒ IDIOMA DETECTADO: EN\nğŸ‡ºğŸ‡¸ CONSULTA EN INGLÃ‰S DETECTADA - ENVIANDO A PIPELINE INGLÃ‰S\nâœ… Cargado dimension_anchors.json: 19 entradas\nâœ… Cargado metric_anchors.json: 20 entradas\nğŸ”„ Mapeo reverso construido: 997 palabras mapeadas\nğŸ”— SQLSchemaMapper inicializado:\n   ğŸ“ Dimensiones: 19 anchors\n   ğŸ“Š MÃ©tricas: 20 anchors\n   ğŸ”„ Mapeos reversos: 997 palabras\nğŸ‡ºğŸ‡¸ English NLP Parser initialized with SQL Schema Mapper\n\nğŸ‡ºğŸ‡¸ PROCESSING ENGLISH QUERY: 'List all sores'\nğŸ”§ Normalizing English query: 'list all sores'\nâœ… English normalized: 'list all sores'\nğŸ§ª DEBUGGING TEMPORAL DICTIONARY:\n   âŒ 'palacio de hierro' â†’ NOT FOUND\n   âŒ 'palaciodehierro' â†’ NOT FOUND\n   âŒ 'palacio_de_hierro' â†’ NOT FOUND\n   âŒ 'liverpool' â†’ NOT FOUND\nğŸ”¤ English tokens: ['list', 'all', 'sores']\nğŸ” ANÃLISIS PRE-MAPEO de tokens originales: ['list', 'all', 'sores']\n   ğŸ“Š PLURAL ORIGINAL detectado: 'sores' â†’ SUM\nğŸ§  English semantic intent: SUM\nâ° DETECTING ENGLISH TEMPORAL PATTERNS:\n   ğŸ”¤ Tokens: ['list', 'all', 'sores']\nâ° TOTAL ENGLISH TEMPORAL FILTERS: 0\nğŸ¯ DETECTING ENGLISH COLUMN-VALUE PATTERNS (WITH ENHANCED STOCK OUT - ORIGINAL METHOD):\nğŸ“… DETECTING THIS WEEK PATTERN:\n   ğŸ“¤ Tokens: ['list', 'all', 'sores']\n   âŒ No 'this week' pattern found\n   ğŸ”§ DEBUG: Llamando a detect_enhanced_stock_out_pattern_english...\nğŸ“¦ DETECTING ENHANCED Y/N COLUMN PATTERN:\n   ğŸ“¤ Tokens: ['list', 'all', 'sores']\n   âŒ No Y/N column pattern found\nğŸ” DETECTING IMPLICIT VALUE PATTERNS:\n   ğŸ”¤ Tokens: ['list', 'all', 'sores']\n      ğŸ” Testing combination: ['list', 'all', 'sores'] (positions 0-2)\n         ğŸ” Testing variant: 'list all sores'\n         ğŸ” Testing variant: 'LIST ALL SORES'\n         ğŸ” Testing variant: 'listallsores'\n         ğŸ” Testing variant: 'list(all(sores'\n         ğŸ” Testing variant: 'LISTALLSORES'\n         ğŸ” Testing variant: 'list_all_sores'\n         ğŸ” Testing variant: 'LIST_ALL_SORES'\n         ğŸ” Testing variant: 'List All Sores'\n      ğŸ” Testing combination: ['list', 'all'] (positions 0-1)\n         ğŸ” Testing variant: 'list all'\n         ğŸ” Testing variant: 'LIST ALL'\n         ğŸ” Testing variant: 'listall'\n         ğŸ” Testing variant: 'list(all'\n         ğŸ” Testing variant: 'LISTALL'\n         ğŸ” Testing variant: 'list_all'\n         ğŸ” Testing variant: 'LIST_ALL'\n         ğŸ” Testing variant: 'List All'\n      ğŸ” Testing combination: ['list'] (positions 0-0)\n         ğŸ” Testing variant: 'list'\n         ğŸ” Testing variant: 'LIST'\n         ğŸ” Testing variant: 'List'\n      ğŸ” Testing combination: ['all', 'sores'] (positions 1-2)\n         ğŸ” Testing variant: 'all sores'\n         ğŸ” Testing variant: 'ALL SORES'\n         ğŸ” Testing variant: 'allsores'\n         ğŸ” Testing variant: 'all(sores'\n         ğŸ” Testing variant: 'ALLSORES'\n         ğŸ” Testing variant: 'all_sores'\n         ğŸ” Testing variant: 'ALL_SORES'\n         ğŸ” Testing variant: 'All Sores'\n      ğŸ” Testing combination: ['all'] (positions 1-1)\n         ğŸ” Testing variant: 'all'\n         ğŸ” Testing variant: 'ALL'\n         ğŸ” Testing variant: 'All'\n      ğŸ” Testing combination: ['sores'] (positions 2-2)\n         ğŸ” Testing variant: 'sores'\n         ğŸ” Testing variant: 'SORES'\n         ğŸ” Testing variant: 'Sores'\nğŸ” TOTAL IMPLICIT VALUES DETECTED: 0\nğŸ”’ TOTAL POSITIONS PROCESSED: []\nâ° Temporal columns to exclude: set()\nğŸ”’ Positions already processed: []\nğŸ¯ Total filters detected: 0\n   ğŸ“¦ Enhanced stock out: 0\n   ğŸ” Implicit: 0\n   ğŸ“ Explicit: 0\nğŸ”’ Final processed positions: []\nğŸ• DETECTING TEMPORAL CONDITIONAL PATTERN:\n   ğŸ“¤ Tokens: ['list', 'all', 'sores']\nğŸ• DEBUG: temporal_conditional_pattern = False\nğŸ“‹ DETECTING LIST ALL PATTERN:\n   ğŸ”¤ Tokens: ['list', 'all', 'sores']\n   âœ… List indicator: 'list' at position 0\n   âœ… All indicator: 'all' at position 1\n   âŒ No target dimension found\nğŸ“‹ DEBUG: list_all_pattern = False\nğŸ“Š DETECTING SHOW ROWS PATTERN:\n   ğŸ”¤ Tokens: ['list', 'all', 'sores']\n   âœ… Show indicator: 'list' at position 0\n   âŒ No row count found\nğŸ“Š DEBUG: show_rows_pattern = False\nğŸ” CLASSIFYING ENGLISH COMPONENTS:\nğŸ” English token 'list' classified as unknown\nğŸ” English token 'all' classified as connector\nğŸ” English token 'sores' classified as unknown\nğŸ—ï¸ BUILDING COMPLETE ENGLISH QUERY STRUCTURE\nğŸ“Š DETECTING SHOW ROWS PATTERN:\n   ğŸ”¤ Tokens: ['list', 'all', 'sores']\n   âœ… Show indicator: 'list' at position 0\n   âŒ No row count found\n   ğŸ“Š Show rows pattern detected: False\nğŸ“‹ DETECTING LIST ALL PATTERN:\n   ğŸ”¤ Tokens: ['list', 'all', 'sores']\n   âœ… List indicator: 'list' at position 0\n   âœ… All indicator: 'all' at position 1\n   âŒ No target dimension found\n   ğŸ“‹ List all pattern detected: False\nğŸ• DETECTING TEMPORAL CONDITIONAL PATTERN:\n   ğŸ“¤ Tokens: ['list', 'all', 'sores']\n   ğŸ• Temporal conditional pattern detected: False\nğŸ† DETECTING ENGLISH RANKING CRITERIA:\n   ğŸ”¤ Tokens: ['list', 'all', 'sores']\n   âŒ No ranking indicators found\nğŸš« DETECTING ENGLISH EXCLUSION FILTERS:\nğŸš« TOTAL ENGLISH EXCLUSION FILTERS: 0\nğŸ† EVALUATING ENGLISH RANKING QUERY:\n   ğŸ“Š Has valid criteria: None\n   ğŸš« Exclusion filters: 0\n   ğŸ¯ Is ranking: False\n   ğŸ† Ranking detected (no special patterns): False\nğŸ”— DETECTING ENGLISH MULTIPLE DIMENSIONS:\n   ğŸ“ English dimensions found: []\n   ğŸ”— English connectors at positions: []\n   âŒ No valid English multi-dimensional pattern detected\nğŸ”— DETECTING ENGLISH COMPOUND CRITERIA:\n   ğŸ”¤ Tokens: ['list', 'all', 'sores']\n   ğŸ“Š Segments detected: [['list', 'all', 'sores']]\n\n   ğŸ¯ Processing English segment 1: ['list', 'all', 'sores']\n      ğŸ” Analyzing English segment: ['list', 'all', 'sores']\n         âŒ English criteria incomplete:\n             Operation: NOT FOUND\n             Metric: NOT FOUND\n      âŒ Could not extract criteria from segment\n\nğŸ”— TOTAL ENGLISH COMPOUND CRITERIA: 0\nğŸ”— EVALUATING ENGLISH COMPOUND QUERY:\n   ğŸ“Š Valid criteria: 0\n   ğŸ¯ Is compound: False\nğŸ” DETECTING ENGLISH QUERY PATTERN:\n   ğŸ“ Dimension: N/A\n   ğŸ”— Multiple dimensions: 0\n   âš¡ Operations: []\n   ğŸ“Š Metrics: []\n   ğŸ† Is ranking: False\n   ğŸ”— Is compound: False\n   ğŸ“ Is multi-dimensional: False\n   â“ ENGLISH PATTERN: UNKNOWN\nğŸ† DETECTING SUPERLATIVE PATTERN:\n   ğŸ”¤ Tokens: ['list', 'all', 'sores']\nğŸ”¢ DETECTING COUNT PATTERNS IN: 'list all sores'\n   âŒ No COUNT pattern detected\nğŸ—ï¸ English structure built successfully:\n   ğŸ“Š Operations: 0\n   ğŸ“ˆ Metrics: 0\n   ğŸ¯ Query pattern: unknown\n   ğŸ† Is ranking: False\n   ğŸ”— Is compound: False\n   ğŸ”— Is multi-dimensional: False\n   ğŸ• Has temporal conditional: False\n   ğŸ“‹ Has list all: False\n   ğŸ“Š Has show rows: False\nğŸ”§ DEBUG: Llegando a validaciÃ³n...\nğŸ” VALIDATING ENGLISH STRUCTURE:\n   ğŸ“‹ Has list_all_pattern: False\n   ğŸ¯ Validation result: {'valid': False, 'error': 'Missing main dimension; Missing metric, operation or condition', 'suggestions': ['Add an entity like: store, account, product, customer', 'Add a metric like: sales, revenue, inventory', 'English unrecognized words: list, sores']}\nğŸ”§ DEBUG: ValidaciÃ³n result = {'valid': False, 'error': 'Missing main dimension; Missing metric, operation or condition', 'suggestions': ['Add an entity like: store, account, product, customer', 'Add a metric like: sales, revenue, inventory', 'English unrecognized words: list, sores']}",
      "stderr_content": "",
      "has_content": true
    }
  }
]