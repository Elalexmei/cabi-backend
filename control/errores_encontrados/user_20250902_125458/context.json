[
  {
    "timestamp": "2025-09-02T12:54:58.616643",
    "component": "suppressed_output",
    "level": "suppressed_component",
    "session_id": "user_20250902_125458",
    "operation": "tableanalyzer_init",
    "suppressed_data": {
      "session_id": "user_20250902_125458",
      "timestamp": "2025-09-02T12:54:58.616630",
      "operation_name": "tableanalyzer_init",
      "stdout_content": "ğŸ¯ INICIALIZANDO ANALIZADOR COMPATIBLE CON PALABRAS ANCLA\n======================================================================\nğŸ“ CARGANDO DICCIONARIOS CON PALABRAS ANCLA\nğŸ“‚ Ruta: /Users/apple/Desktop/chambiacion/proyectos_full/python/brandbot/etapas/cassian_0.0.5_etapa_4/diccionarios/complejos\n============================================================\nâœ… Estructura JSON de palabras ancla verificada\n   âœ… anchors/dimension_anchors.json\n   ğŸ”¥ Expandido: 19 anclas â†’ 532 dimensiones\n   âœ… anchors/metric_anchors.json\n   ğŸ”¥ Expandido: 20 anclas â†’ 490 mÃ©tricas\n   âœ… core/operations.json\n   âœ… core/known_columns.json\n   âœ… core/common_values.json\n   âš ï¸ No encontrado: linguistic/connectors.json\n   âš ï¸ No encontrado: linguistic/word_numbers.json\n   âš ï¸ No encontrado: linguistic/typo_corrections.json\n   âœ… temporal/temporal_indicators.json\n   âœ… temporal/temporal_units.json\n\nğŸ“Š RESULTADO DE CARGA CON PALABRAS ANCLA:\n   âœ… Archivos bÃ¡sicos cargados: 3/3\n   ğŸ“‚ Dimensiones (expandidas): 532\n   ğŸ“Š MÃ©tricas (expandidas): 490\n   âš¡ Operaciones: 57\n   ğŸ“ Anclas de dimensiÃ³n: 19\n   ğŸ“ Anclas de mÃ©trica: 20\n   ğŸ• Cargado: 2025-09-02 12:54:58\nâœ… Diccionarios con palabras ancla cargados exitosamente\nğŸ”¥ TODAS LAS VARIACIONES DISPONIBLES: 1022 tÃ©rminos\nâœ… Estructura JSON de palabras ancla verificada\nâœ… Diccionarios con palabras ancla cargados:\nğŸ“ Ruta: /Users/apple/Desktop/chambiacion/proyectos_full/python/brandbot/etapas/cassian_0.0.5_etapa_4/diccionarios/complejos\nğŸ• Ãšltima carga: 2025-09-02T12:54:58.609362\nâœ… Carga exitosa: True\nğŸ”¥ Sistema de anclas: True\nğŸ“Š EstadÃ­sticas cargadas:\n   ğŸ“‚ Dimensiones (expandidas): 532\n   ğŸ“Š MÃ©tricas (expandidas): 490\n   âš¡ Operaciones: 57\n   ğŸ“ Anclas de dimensiÃ³n: 19\n   ğŸ“ Anclas de mÃ©trica: 20\n\nğŸ”¥ EJEMPLO DE EXPANSIONES CARGADAS:\n   ğŸ“‚ 'employee': 48 variaciones â†’ ['vendedor', 'vendedores', 'empleado', 'empleados', 'personal']...\n   ğŸ“‚ 'category': 34 variaciones â†’ ['categoria', 'categorias', 'categorÃ­a', 'categorÃ­as', 'cat']...\nğŸ“ Directorios temporales verificados\nğŸ”¥ Analizador compatible con palabras ancla listo\nâœ… MySQL disponible: localhost/datos_imperiales\nğŸ”¥ Analizador con opciÃ³n MySQL listo",
      "stderr_content": "",
      "has_content": true
    }
  },
  {
    "timestamp": "2025-09-02T12:54:58.621665",
    "component": "suppressed_output",
    "level": "suppressed_component",
    "session_id": "user_20250902_125458",
    "operation": "problemizador_init",
    "suppressed_data": {
      "session_id": "user_20250902_125458",
      "timestamp": "2025-09-02T12:54:58.621662",
      "operation_name": "problemizador_init",
      "stdout_content": "âœ… Operaciones cargadas: 161 palabras ancla\n   ğŸ‡ªğŸ‡¸ Aliases configurados para ESPAÃ‘OL\n   âœ… Conectores activos: 30 palabras\n   âœ… NÃºmeros activos: 31 palabras\n   âœ… Correcciones activas: 20 palabras\nâœ… Diccionario temporal cargado: 387 entradas\nâœ… Diccionarios JSON cargados exitosamente\nğŸ”§ Construyendo Ã­ndices de bÃºsqueda optimizada...\nâœ… Ãndice temporal: 388 entradas\nâœ… Frases compuestas en cache: 211 entradas\nâœ… Ãndices construidos: 1011 palabras en 0.000s\nğŸš€ Parser NLP Unificado iniciado\nğŸ“š Diccionarios cargados: {'total_dimensiones': 392, 'total_operaciones': 161, 'total_metricas': 384, 'source': 'JSON files'}\nğŸš¨ Sistema de palabras desconocidas activado\nğŸ“ Log de palabras desconocidas: control/consultas_sin_respuesta/unknown_words_log.json",
      "stderr_content": "",
      "has_content": true
    }
  },
  {
    "timestamp": "2025-09-02T12:54:58.622088",
    "component": "suppressed_output",
    "level": "suppressed_component",
    "session_id": "user_20250902_125458",
    "operation": "sql_mapper_init",
    "suppressed_data": {
      "session_id": "user_20250902_125458",
      "timestamp": "2025-09-02T12:54:58.622086",
      "operation_name": "sql_mapper_init",
      "stdout_content": "âœ… Cargado dimension_anchors.json: 19 entradas\nâœ… Cargado metric_anchors.json: 20 entradas\nğŸ”„ Mapeo reverso construido: 997 palabras mapeadas\nğŸ”— SQLSchemaMapper inicializado:\n   ğŸ“ Dimensiones: 19 anchors\n   ğŸ“Š MÃ©tricas: 20 anchors\n   ğŸ”„ Mapeos reversos: 997 palabras",
      "stderr_content": "",
      "has_content": true
    }
  },
  {
    "timestamp": "2025-09-02T12:54:59.115806",
    "component": "sql",
    "level": "info",
    "message": "âœ… Buffer de ordenamiento ya configurado correctamente",
    "session_time": 0.654427
  },
  {
    "timestamp": "2025-09-02T12:54:59.116459",
    "component": "sql",
    "level": "info",
    "message": "âœ… Buffer de JOIN ya configurado correctamente",
    "session_time": 0.65508
  },
  {
    "timestamp": "2025-09-02T12:54:59.117142",
    "component": "sql",
    "level": "info",
    "message": "âœ… TamaÃ±o tabla temporal ya configurado correctamente",
    "session_time": 0.655763
  },
  {
    "timestamp": "2025-09-02T12:54:59.117833",
    "component": "sql",
    "level": "info",
    "message": "âœ… TamaÃ±o mÃ¡ximo tabla heap ya configurado correctamente",
    "session_time": 0.656454
  },
  {
    "timestamp": "2025-09-02T12:54:59.119107",
    "component": "sql",
    "level": "info",
    "message": "âœ… Cache de threads ya configurado correctamente",
    "session_time": 0.657728
  },
  {
    "timestamp": "2025-09-02T12:54:59.119889",
    "component": "sql",
    "level": "info",
    "message": "âœ… Cache de tablas abiertas ya configurado correctamente",
    "session_time": 0.65851
  },
  {
    "timestamp": "2025-09-02T12:54:59.121793",
    "component": "sql",
    "level": "info",
    "message": "âœ… Flush log en commit ya configurado correctamente",
    "session_time": 0.660414
  },
  {
    "timestamp": "2025-09-02T12:54:59.124497",
    "component": "sql",
    "level": "info",
    "message": "ğŸ¯ Buffer Pool verificado: 10.0GB",
    "session_time": 0.663118
  },
  {
    "timestamp": "2025-09-02T12:54:59.125135",
    "component": "sql",
    "level": "info",
    "message": "ğŸ¯ Sort Buffer verificado: 2.0MB",
    "session_time": 0.663756
  },
  {
    "timestamp": "2025-09-02T12:54:59.125750",
    "component": "sql",
    "level": "info",
    "message": "ğŸ¯ Tmp Table Size verificado: 512.0MB",
    "session_time": 0.664371
  },
  {
    "timestamp": "2025-09-02T12:54:59.126486",
    "component": "sql",
    "level": "info",
    "message": "ğŸ“Š VERIFICACIÃ“N: 3/3 configuraciones crÃ­ticas verificadas",
    "session_time": 0.665107
  },
  {
    "timestamp": "2025-09-02T12:54:59.126504",
    "component": "sql",
    "level": "info",
    "message": "âœ… OPTIMIZACIÃ“N EXITOSA: 8/11 configuraciones aplicadas",
    "session_time": 0.665125
  },
  {
    "timestamp": "2025-09-02T12:54:59.126510",
    "component": "sql",
    "level": "info",
    "message": "ğŸ¯ Configuraciones crÃ­ticas aplicadas correctamente",
    "session_time": 0.665131
  },
  {
    "timestamp": "2025-09-02T12:54:59.126541",
    "component": "main",
    "level": "info",
    "message": "âœ… MODO MYSQL CONFIGURADO (Con Pool):",
    "session_time": 0.665162
  },
  {
    "timestamp": "2025-09-02T12:54:59.126548",
    "component": "main",
    "level": "info",
    "message": "   ğŸ—„ï¸ Base: datos_imperiales",
    "session_time": 0.665169
  },
  {
    "timestamp": "2025-09-02T12:54:59.126555",
    "component": "main",
    "level": "info",
    "message": "   ğŸ“‹ Tabla: datos_output_data_2_20250828_170952_1e0e93",
    "session_time": 0.665176
  },
  {
    "timestamp": "2025-09-02T12:54:59.126561",
    "component": "main",
    "level": "info",
    "message": "   âš¡ Pool: Conexiones concurrentes activas",
    "session_time": 0.665182
  },
  {
    "timestamp": "2025-09-02T12:55:10.722804",
    "component": "flask",
    "level": "info",
    "message": "ğŸ¯ Consulta Flask: total sales of liverpool",
    "session_time": 12.261425
  },
  {
    "timestamp": "2025-09-02T12:55:10.723263",
    "component": "main",
    "level": "info",
    "message": "ğŸš€ INICIANDO FLUJO MAESTRO COMPLETO - MODO: mysql",
    "session_time": 12.261884
  },
  {
    "timestamp": "2025-09-02T12:55:10.723304",
    "component": "nlp",
    "level": "info",
    "message": "ğŸ”„ INICIANDO: Procesando consulta",
    "session_time": 12.261925
  },
  {
    "timestamp": "2025-09-02T12:55:10.723450",
    "component": "nlp",
    "level": "info",
    "message": "ğŸ§  PASO 2 MAESTRO: PROCESAMIENTO CON PROBLEMIZADOR",
    "session_time": 12.262071
  },
  {
    "timestamp": "2025-09-02T12:55:10.723457",
    "component": "nlp",
    "level": "info",
    "message": "â“ Consulta: 'total sales of liverpool'",
    "session_time": 12.262078
  },
  {
    "timestamp": "2025-09-02T12:55:10.723463",
    "component": "nlp",
    "level": "info",
    "message": "ğŸ¯ Modo actual: mysql",
    "session_time": 12.262084
  },
  {
    "timestamp": "2025-09-02T12:55:10.723469",
    "component": "nlp",
    "level": "info",
    "message": "â”œâ”€â”€ Analizando lenguaje natural...",
    "session_time": 12.26209
  },
  {
    "timestamp": "2025-09-02T12:55:10.737616",
    "component": "suppressed_output",
    "level": "suppressed_component",
    "session_id": "user_20250902_125458",
    "operation": "problemizador_process",
    "suppressed_data": {
      "session_id": "user_20250902_125458",
      "timestamp": "2025-09-02T12:55:10.737585",
      "operation_name": "problemizador_process",
      "stdout_content": "ğŸ” ANALIZANDO CONSULTA: 'total sales of liverpool'\nğŸ” DETECTANDO FRASES COMPUESTAS (Dictionary-Based): 'total sales of liverpool'\nğŸ” DEBUG: Query con placeholders: 'total sales of liverpool'\nğŸ” DEBUG: Text en minÃºsculas: 'total sales of liverpool'\n   ğŸ” Generadas 211 frases compuestas automÃ¡ticamente\nğŸ” DEBUG: Antes de restaurar mayÃºsculas: 'total sales of liverpool'\nğŸ”“ RESTAURANDO TOKENS:\n   ğŸ“¥ Input: 'total sales of liverpool'\n   ğŸ”‘ Tokens preservados: {}\n   ğŸ“¤ Output: 'total sales of liverpool'\nğŸ” DEBUG: DespuÃ©s de restaurar mayÃºsculas: 'total sales of liverpool'\nğŸ” TOKENS ORIGINALES: ['total', 'sales', 'of', 'liverpool']\nğŸ”’ DATOS EXCLUIDOS: [] (letras mayÃºsculas = DATOS)\nğŸ” TOKENS PARA ANÃLISIS: ['total', 'sales', 'of', 'liverpool']\n   ğŸ‡ºğŸ‡¸ Conector inglÃ©s: 'total' (+10)\n   ğŸ‡ºğŸ‡¸ Palabra claramente inglesa: 'sales' (+15)\n   ğŸ‡ºğŸ‡¸ Conector inglÃ©s: 'of' (+10)\n   ğŸ¯ RESULTADO: INGLÃ‰S (score: 35 vs 0)\n   ğŸ‡ºğŸ‡¸ Aliases configurados para INGLÃ‰S\n   âœ… Conectores activos: 134 palabras\n   âœ… NÃºmeros activos: 43 palabras\n   âœ… Correcciones activas: 76 palabras\nğŸŒ IDIOMA DETECTADO: EN\nğŸ‡ºğŸ‡¸ CONSULTA EN INGLÃ‰S DETECTADA - ENVIANDO A PIPELINE INGLÃ‰S\nâœ… Cargado dimension_anchors.json: 19 entradas\nâœ… Cargado metric_anchors.json: 20 entradas\nğŸ”„ Mapeo reverso construido: 997 palabras mapeadas\nğŸ”— SQLSchemaMapper inicializado:\n   ğŸ“ Dimensiones: 19 anchors\n   ğŸ“Š MÃ©tricas: 20 anchors\n   ğŸ”„ Mapeos reversos: 997 palabras\nğŸ‡ºğŸ‡¸ English NLP Parser initialized with SQL Schema Mapper\n\nğŸ‡ºğŸ‡¸ PROCESSING ENGLISH QUERY: 'total sales of liverpool'\nğŸ”§ Normalizing English query: 'total sales of liverpool'\nâœ… English normalized: 'total sales of liverpool'\nğŸ§ª DEBUGGING TEMPORAL DICTIONARY:\n   âŒ 'palacio de hierro' â†’ NOT FOUND\n   âŒ 'palaciodehierro' â†’ NOT FOUND\n   âŒ 'palacio_de_hierro' â†’ NOT FOUND\n   âŒ 'liverpool' â†’ NOT FOUND\nğŸ”¤ English tokens: ['total', 'sales', 'of', 'liverpool']\nğŸ” ANÃLISIS PRE-MAPEO de tokens originales: ['total', 'sales', 'of', 'liverpool']\n   ğŸ“Š PLURAL ORIGINAL detectado: 'sales' â†’ SUM\nğŸ§  English semantic intent: SUM\nâ° DETECTING ENGLISH TEMPORAL PATTERNS:\n   ğŸ”¤ Tokens: ['total', 'sales', 'of', 'liverpool']\nâ° TOTAL ENGLISH TEMPORAL FILTERS: 0\nğŸ¯ DETECTING ENGLISH COLUMN-VALUE PATTERNS (WITH ENHANCED STOCK OUT - ORIGINAL METHOD):\nğŸ“… DETECTING THIS WEEK PATTERN:\n   ğŸ“¤ Tokens: ['total', 'sales', 'of', 'liverpool']\n   âŒ No 'this week' pattern found\n   ğŸ”§ DEBUG: Llamando a detect_enhanced_stock_out_pattern_english...\nğŸ“¦ DETECTING ENHANCED Y/N COLUMN PATTERN:\n   ğŸ“¤ Tokens: ['total', 'sales', 'of', 'liverpool']\n   âŒ No Y/N column pattern found\nğŸ” DETECTING IMPLICIT VALUE PATTERNS:\n   ğŸ”¤ Tokens: ['total', 'sales', 'of', 'liverpool']\n      ğŸ” Testing combination: ['total', 'sales', 'of', 'liverpool'] (positions 0-3)\n         ğŸ” Testing variant: 'total sales of liverpool'\n         ğŸ” Testing variant: 'TOTAL SALES OF LIVERPOOL'\n         ğŸ” Testing variant: 'totalsalesofliverpool'\n         ğŸ” Testing variant: 'total(sales(of(liverpool'\n         ğŸ” Testing variant: 'TOTALSALESOFLIVERPOOL'\n         ğŸ” Testing variant: 'total_sales_of_liverpool'\n         ğŸ” Testing variant: 'TOTAL_SALES_OF_LIVERPOOL'\n         ğŸ” Testing variant: 'Total Sales Of Liverpool'\n      ğŸ” Testing combination: ['total', 'sales', 'of'] (positions 0-2)\n         ğŸ” Testing variant: 'total sales of'\n         ğŸ” Testing variant: 'TOTAL SALES OF'\n         ğŸ” Testing variant: 'totalsalesof'\n         ğŸ” Testing variant: 'total(sales(of'\n         ğŸ” Testing variant: 'TOTALSALESOF'\n         ğŸ” Testing variant: 'total_sales_of'\n         ğŸ” Testing variant: 'TOTAL_SALES_OF'\n         ğŸ” Testing variant: 'Total Sales Of'\n      ğŸ” Testing combination: ['total', 'sales'] (positions 0-1)\n         ğŸ” Testing variant: 'total sales'\n         ğŸ” Testing variant: 'TOTAL SALES'\n         ğŸ” Testing variant: 'totalsales'\n         ğŸ” Testing variant: 'total(sales'\n         ğŸ” Testing variant: 'TOTALSALES'\n         ğŸ” Testing variant: 'total_sales'\n         ğŸ” Testing variant: 'TOTAL_SALES'\n         ğŸ” Testing variant: 'Total Sales'\n      ğŸ” Testing combination: ['total'] (positions 0-0)\n         ğŸ” Testing variant: 'total'\n         ğŸ” Testing variant: 'TOTAL'\n         ğŸ” Testing variant: 'Total'\n      ğŸ” Testing combination: ['sales', 'of', 'liverpool'] (positions 1-3)\n         ğŸ” Testing variant: 'sales of liverpool'\n         ğŸ” Testing variant: 'SALES OF LIVERPOOL'\n         ğŸ” Testing variant: 'salesofliverpool'\n         ğŸ” Testing variant: 'sales(of(liverpool'\n         ğŸ” Testing variant: 'SALESOFLIVERPOOL'\n         ğŸ” Testing variant: 'sales_of_liverpool'\n         ğŸ” Testing variant: 'SALES_OF_LIVERPOOL'\n         ğŸ” Testing variant: 'Sales Of Liverpool'\n      ğŸ” Testing combination: ['sales', 'of'] (positions 1-2)\n         ğŸ” Testing variant: 'sales of'\n         ğŸ” Testing variant: 'SALES OF'\n         ğŸ” Testing variant: 'salesof'\n         ğŸ” Testing variant: 'sales(of'\n         ğŸ” Testing variant: 'SALESOF'\n         ğŸ” Testing variant: 'sales_of'\n         ğŸ” Testing variant: 'SALES_OF'\n         ğŸ” Testing variant: 'Sales Of'\n      ğŸ” Testing combination: ['sales'] (positions 1-1)\n         ğŸ” Testing variant: 'sales'\n         ğŸ” Testing variant: 'SALES'\n         ğŸ” Testing variant: 'Sales'\n      ğŸ” Testing combination: ['of', 'liverpool'] (positions 2-3)\n         ğŸ” Testing variant: 'of liverpool'\n         ğŸ” Testing variant: 'OF LIVERPOOL'\n         ğŸ” Testing variant: 'ofliverpool'\n         ğŸ” Testing variant: 'of(liverpool'\n         ğŸ” Testing variant: 'OFLIVERPOOL'\n         ğŸ” Testing variant: 'of_liverpool'\n         ğŸ” Testing variant: 'OF_LIVERPOOL'\n         ğŸ” Testing variant: 'Of Liverpool'\n      ğŸ” Testing combination: ['of'] (positions 2-2)\n         ğŸ” Testing variant: 'of'\n         ğŸ” Testing variant: 'OF'\n         ğŸ” Testing variant: 'Of'\n      ğŸ” Testing combination: ['liverpool'] (positions 3-3)\n         ğŸ” Testing variant: 'liverpool'\n         ğŸ” Testing variant: 'LIVERPOOL'\n         ğŸ” Testing variant: 'Liverpool'\nğŸ” TOTAL IMPLICIT VALUES DETECTED: 0\nğŸ”’ TOTAL POSITIONS PROCESSED: []\nâ° Temporal columns to exclude: set()\nğŸ”’ Positions already processed: []\nğŸ¯ Total filters detected: 0\n   ğŸ“¦ Enhanced stock out: 0\n   ğŸ” Implicit: 0\n   ğŸ“ Explicit: 0\nğŸ”’ Final processed positions: []\nğŸ• DETECTING TEMPORAL CONDITIONAL PATTERN:\n   ğŸ“¤ Tokens: ['total', 'sales', 'of', 'liverpool']\nğŸ• DEBUG: temporal_conditional_pattern = False\nğŸ“‹ DETECTING LIST ALL PATTERN:\n   ğŸ”¤ Tokens: ['total', 'sales', 'of', 'liverpool']\n   âŒ No list indicator found\nğŸ“‹ DEBUG: list_all_pattern = False\nğŸ“Š DETECTING SHOW ROWS PATTERN:\n   ğŸ”¤ Tokens: ['total', 'sales', 'of', 'liverpool']\n   âŒ No show indicator found\nğŸ“Š DEBUG: show_rows_pattern = False\nğŸ” CLASSIFYING ENGLISH COMPONENTS:\nğŸ” English token 'total' classified as operation\nğŸ” English token 'sales' classified as metric\nğŸ” English token 'of' classified as connector\nğŸ” English token 'liverpool' classified as unknown\nğŸ—ï¸ BUILDING COMPLETE ENGLISH QUERY STRUCTURE\nğŸ“Š DETECTING SHOW ROWS PATTERN:\n   ğŸ”¤ Tokens: ['total', 'sales', 'of', 'liverpool']\n   âŒ No show indicator found\n   ğŸ“Š Show rows pattern detected: False\nğŸ“‹ DETECTING LIST ALL PATTERN:\n   ğŸ”¤ Tokens: ['total', 'sales', 'of', 'liverpool']\n   âŒ No list indicator found\n   ğŸ“‹ List all pattern detected: False\nğŸ• DETECTING TEMPORAL CONDITIONAL PATTERN:\n   ğŸ“¤ Tokens: ['total', 'sales', 'of', 'liverpool']\n   ğŸ• Temporal conditional pattern detected: False\nğŸ† DETECTING ENGLISH RANKING CRITERIA:\n   ğŸ”¤ Tokens: ['total', 'sales', 'of', 'liverpool']\n   âŒ No ranking indicators found\nğŸš« DETECTING ENGLISH EXCLUSION FILTERS:\nğŸš« TOTAL ENGLISH EXCLUSION FILTERS: 0\nğŸ† EVALUATING ENGLISH RANKING QUERY:\n   ğŸ“Š Has valid criteria: None\n   ğŸš« Exclusion filters: 0\n   ğŸ¯ Is ranking: False\n   ğŸ† Ranking detected (no special patterns): False\nğŸ”— DETECTING ENGLISH MULTIPLE DIMENSIONS:\n   ğŸ“ English dimensions found: []\n   ğŸ”— English connectors at positions: []\n   âŒ No valid English multi-dimensional pattern detected\nğŸ”— DETECTING ENGLISH COMPOUND CRITERIA:\n   ğŸ”¤ Tokens: ['total', 'sales', 'of', 'liverpool']\n   ğŸ“Š Segments detected: [['total', 'sales', 'of', 'liverpool']]\n\n   ğŸ¯ Processing English segment 1: ['total', 'sales', 'of', 'liverpool']\n      ğŸ” Analyzing English segment: ['total', 'sales', 'of', 'liverpool']\n         âš¡ English operation found: total\n         ğŸ“Š English REAL metric found: sales\n         âœ… English criteria complete: total + sales\n      âœ… English criteria extracted: total sales\n\nğŸ”— TOTAL ENGLISH COMPOUND CRITERIA: 1\n   1. total sales (confidence: 0.95)\nğŸ”— EVALUATING ENGLISH COMPOUND QUERY:\n   ğŸ“Š Valid criteria: 1\n   ğŸ¯ Is compound: False\n   âš¡ English operation: total\n   ğŸ“Š English metric: sales\nğŸ” DETECTING ENGLISH QUERY PATTERN:\n   ğŸ“ Dimension: N/A\n   ğŸ”— Multiple dimensions: 0\n   âš¡ Operations: ['total']\n   ğŸ“Š Metrics: ['sales']\n   ğŸ† Is ranking: False\n   ğŸ”— Is compound: False\n   ğŸ“ Is multi-dimensional: False\n   ğŸ“Š ENGLISH PATTERN: AGGREGATION (global)\nğŸ† DETECTING SUPERLATIVE PATTERN:\n   ğŸ”¤ Tokens: ['total', 'sales', 'of', 'liverpool']\n   âŒ No question word found\nğŸ”¢ DETECTING COUNT PATTERNS IN: 'total sales of liverpool'\n   âŒ No COUNT pattern detected\nğŸ—ï¸ English structure built successfully:\n   ğŸ“Š Operations: 1\n   ğŸ“ˆ Metrics: 1\n   ğŸ¯ Query pattern: aggregation\n   ğŸ† Is ranking: False\n   ğŸ”— Is compound: False\n   ğŸ”— Is multi-dimensional: False\n   ğŸ• Has temporal conditional: False\n   ğŸ“‹ Has list all: False\n   ğŸ“Š Has show rows: False\nğŸ”§ DEBUG: Llegando a validaciÃ³n...\nğŸ” VALIDATING ENGLISH STRUCTURE:\n   ğŸ“‹ Has list_all_pattern: False\n   âœ… English global aggregation valid - no main dimension required\n   ğŸ¯ Validation result: {'valid': True, 'error': None, 'suggestions': ['English unrecognized words: liverpool']}\nğŸ”§ DEBUG: ValidaciÃ³n result = {'valid': True, 'error': None, 'suggestions': ['English unrecognized words: liverpool']}\nğŸ”§ DEBUG: Antes de generar SQL...\nğŸ”§ DEBUG: hasattr list_all_pattern = False\nğŸ”§ GENERATING OPTIMIZED SQL (Enhanced with LIST ALL support):\nğŸ—„ï¸ Generating OPTIMIZED English SQL:\n   â° Temporal columns detected: set()\n   ğŸ¯ Query pattern: aggregation\n   ğŸ”— Is compound: False\n   ğŸ† Is ranking: False\n   ğŸ”— Is multi-dimensional: False\nğŸŒ Generating English SQL for global aggregation\nğŸ”§ DEBUG EXTREMO: MÃ©todo get_advanced_temporal_sql_conditions_english INICIADO\nğŸ”§ DEBUG EXTREMO: Inicializando sql_conditions = []\nâ° GENERATING ADVANCED TEMPORAL CONDITIONS (With Special Patterns):\nğŸ”§ DEBUG EXTREMO: Verificando structure.temporal_filters...\nğŸ”§ DEBUG EXTREMO: hasattr(structure, 'temporal_filters') = True\nğŸ”§ DEBUG EXTREMO: structure.temporal_filters = []\nğŸ”§ DEBUG EXTREMO: len(structure.temporal_filters) = 0\n   ğŸ“‹ Total temporal filters in structure: 0\nğŸ”§ DEBUG EXTREMO: Terminado el loop principal\n   âš ï¸  No advanced_temporal_info available\nğŸ”§ DEBUG EXTREMO: sql_conditions final = []\nâ° TOTAL TEMPORAL CONDITIONS: 0\n   âŒ NO CONDITIONS GENERATED!\nğŸ”§ DEBUG EXTREMO: Retornando sql_conditions = []\n   ğŸ¯ Final OPTIMIZED English SQL: SELECT SUM(sales) FROM datos;\nğŸ”§ DEBUG: SQL conceptual generado = 'SELECT SUM(sales) FROM datos;'\nğŸ”— NORMALIZANDO SQL (Enhanced - Robust):\n   ğŸ“¥ Input: SELECT SUM(sales) FROM datos;\n   ğŸ” Function found: SUM(sales)\n      ğŸ” Searching for 'sales' in anchors...\n      ğŸ“ Checking dimension_anchors (type: <class 'dict'>)\n         ğŸ” Checking anchor_key: 'employee' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'category' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'brand' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'line' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'city' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'country' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'state' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'Store' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'Account' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'Item' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'Stock_Out' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'Product_Group' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'item_group' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'partner_code' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'customer_code' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'vendor_code' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'location' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'Dead_Inventory' (data type: <class 'list'>)\n         ğŸ” Checking anchor_key: 'Channel' (data type: <class 'list'>)\n      ğŸ“Š Checking metric_anchors (type: <class 'dict'>)\n         ğŸ” Checking metric anchor_key: 'Sell_Out' (data type: <class 'list'>)\n      âœ… Metric match: 'sales' â†’ 'Sell_Out' (list structure)\n   ğŸ”„ Function mapping: SUM(sales) â†’ SUM(Sell_Out)\nğŸ”§ AGREGANDO COMILLAS (Dynamic - Using Anchors):\n   ğŸ“¥ Input: SELECT SUM(Sell_Out) FROM datos;\n   ğŸ“Š Normalized columns from anchors: ['Account', 'Avg_4W', 'Avg_8W', 'Brand', 'Category', 'Channel', 'City', 'Cost', 'Country', 'Customer_Code', 'Dead_Inventory', 'Discount', 'Employee', 'Inventory', 'Item', 'Item_Group', 'Line', 'Location', 'Margin', 'Order_Number', 'Orders', 'Partner_Code', 'Price', 'Product_Group', 'Profit', 'Quantity', 'Revenue', 'Roi', 'Sales_Amount', 'Sell_Out', 'Sell_Through', 'State', 'Stock_Out', 'Store', 'Transactions', 'Vendor_Code', 'Venta_Perdida', 'Week']\n      ğŸ“ Added quotes: Sell_Out â†’ \"Sell_Out\" at position 11\n   ğŸ“¤ Output: SELECT SUM(\"Sell_Out\") FROM datos;\n   ğŸ“Š Reemplazos realizados: 1\n   ğŸ“¤ Output: SELECT SUM(\"Sell_Out\") FROM datos;\n   ğŸ“Š Reemplazos realizados: 1\nâœ… Schema mapping applied successfully\nğŸ”§ DEBUG: SQL final = 'SELECT SUM(\"Sell_Out\") FROM datos;'\nğŸ” Generando estructura jerÃ¡rquica para consulta compuesta:\n   ğŸ“ DimensiÃ³n: N/A\n   ğŸ”— Es compuesta: False\n   ğŸ”— Criterios compuestos: 1\n   â° Columnas temporales: set()\n   ğŸ”„ Â¿DimensiÃ³n en filtros? False\n   âœ… OperaciÃ³n+MÃ©trica tradicional: ((total) (sales))\n   ğŸ¯ Resultado final COMPUESTO: ((total) (sales))\nğŸ”§ DEBUG: Final result created successfully\nğŸ”§ DEBUG: SQL in result = 'SELECT SUM(\"Sell_Out\") FROM datos;'",
      "stderr_content": "",
      "has_content": true
    }
  },
  {
    "timestamp": "2025-09-02T12:55:10.737663",
    "component": "nlp",
    "level": "info",
    "message": "âœ… Problemizador completado:",
    "session_time": 12.276284
  },
  {
    "timestamp": "2025-09-02T12:55:10.737699",
    "component": "nlp",
    "level": "info",
    "message": "   ğŸ—„ï¸ SQL conceptual generado: SELECT SUM(\"Sell_Out\") FROM datos;",
    "session_time": 12.27632
  },
  {
    "timestamp": "2025-09-02T12:55:10.737751",
    "component": "nlp",
    "level": "info",
    "message": "âœ… SUCCESS: Procesando consulta (14ms)",
    "session_time": 12.276372
  },
  {
    "timestamp": "2025-09-02T12:55:10.737770",
    "component": "exec",
    "level": "info",
    "message": "ğŸ—„ï¸ EJECUTANDO SQL - MODO: mysql",
    "session_time": 12.276391
  },
  {
    "timestamp": "2025-09-02T12:55:10.737775",
    "component": "exec",
    "level": "info",
    "message": "   ğŸ—„ï¸ Destino: MySQL CON POOL DE CONEXIONES",
    "session_time": 12.276396
  },
  {
    "timestamp": "2025-09-02T12:55:10.737782",
    "component": "exec",
    "level": "info",
    "message": "ğŸ—„ï¸ PASO 3 MAESTRO: EJECUCIÃ“N EN MYSQL CON POOL",
    "session_time": 12.276403
  },
  {
    "timestamp": "2025-09-02T12:55:10.745160",
    "component": "mysql",
    "level": "exception_details",
    "error_details": {
      "exception_type": "AttributeError",
      "exception_message": "'SQLiteToMySQLAdapter' object has no attribute 'convert_query'",
      "context": "Error ejecutando query convertida",
      "traceback": "Traceback (most recent call last):\n  File \"/Users/apple/Desktop/chambiacion/proyectos_full/python/brandbot/etapas/cassian_0.0.5_etapa_4/ejecutor.py\", line 1499, in execute_converted_query\n    conversion_result = sql_adapter.convert_query(sql_query)\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'SQLiteToMySQLAdapter' object has no attribute 'convert_query'\n"
    }
  }
]